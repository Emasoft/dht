============================= test session starts ==============================
collected 830 items

tests/docker/test_all_dhtl_actions.py ssssssssssssssssssssssssss      [ 26/830]
tests/docker/test_dhtl_commands_complete.py sssssssssssssssssssssssss [ 51/830]
sss                                                                   [ 54/830]
tests/docker/test_docker_profiles.py ssssssssssssssss                 [ 70/830]
tests/docker/test_workflow_profiles.py sssssssssssss                  [ 83/830]
tests/integration/test_bolt_commands_integration.py ...FFF..F.F.FFFFF [100/830]
FF                                                                    [102/830]
tests/integration/test_bolt_commands_simple.py ..........             [112/830]
tests/integration/test_bolt_core_commands.py .....F.F.F..             [124/830]
tests/integration/test_command_test.py ..                             [126/830]
tests/integration/test_dhtl_build_command.py F........                [135/830]
tests/integration/test_dhtl_deploy_container.py ...FFFFFF.F..F...F    [153/830]
tests/integration/test_dhtl_init_command.py .F.....FF                 [162/830]
tests/integration/test_dhtl_init_simple.py .                          [163/830]
tests/integration/test_dhtl_setup_command.py ..F.F....                [172/830]
tests/integration/test_dhtl_setup_init.py FFFFF                       [177/830]
tests/integration/test_dhtl_sync_command.py .........                 [186/830]
tests/integration/test_github_clone_setup.py ssF                      [189/830]
tests/integration/test_github_repos_workflow.py F                     [190/830]
tests/integration/test_uv_manager_integration.py ...FF..sF            [199/830]
tests/integration/test_workspace_commands_integration.py FFF          [202/830]
tests/test_bash_parser.py FF                                          [204/830]
tests/test_dhtl_cli.py F..                                            [207/830]
tests/test_dhtl_commands_python.py .....                              [212/830]
tests/test_dhtl_python.py ..F..                                       [217/830]
tests/test_prefect_compat.py ..FF...                                  [224/830]
tests/test_project_generator_flow.py FFFFFFFF                         [232/830]
tests/test_workspace_commands.py ..............                       [246/830]
tests/test_workspace_functionality.py .......                         [253/830]
tests/unit/test_bash_parser.py ................                       [269/830]
tests/unit/test_bolt_compatibility.py .......................         [292/830]
tests/unit/test_cli_commands_registry.py ............................ [320/830]
.                                                                     [321/830]
tests/unit/test_comprehensive_verification.py .F.....F...F            [333/830]
tests/unit/test_core_presence.py ..                                   [335/830]
tests/unit/test_critical_fixes.py ....                                [339/830]
tests/unit/test_dht_flows.py FFFFFFFFFFFFFFFFFF                       [357/830]
tests/unit/test_dhtconfig.py .......F....                             [369/830]
tests/unit/test_dhtl_commands.py F.......F......                      [384/830]
tests/unit/test_dhtl_diagnostics.py ......                            [390/830]
tests/unit/test_dhtl_guardian_command.py .......                      [397/830]
tests/unit/test_django_detection_fix.py .FFF                          [401/830]
tests/unit/test_docker.py F.F...FF                                    [409/830]
tests/unit/test_docker_components.py ....FFF........FF..FF.F          [432/830]
tests/unit/test_docker_coverage.py ...FFFFFF......................... [466/830]
..........FFFF..FFFFFFFF.........                                     [499/830]
tests/unit/test_docker_final_coverage.py FFF.FF...F.                  [510/830]
tests/unit/test_duplicate_functions.py ..s                            [513/830]
tests/unit/test_environment.py FFs                                    [516/830]
tests/unit/test_environment_configurator.py .FFFF.F.F.                [526/830]
tests/unit/test_environment_reproducer.py ........................... [553/830]
....                                                                  [557/830]
tests/unit/test_error_handling.py ssssss                              [563/830]
tests/unit/test_example_usage.py .......                              [570/830]
tests/unit/test_guardian_command.py FFFF                              [574/830]
tests/unit/test_package_parsers.py ...................                [593/830]
tests/unit/test_project_analyzer.py F.....F.........                  [609/830]
tests/unit/test_project_heuristics.py FFFFFFFFFFFFFF..                [625/830]
tests/unit/test_project_type_detector.py FFFFFFFFFFFFFFFFFF.          [644/830]
tests/unit/test_python_efficiency.py .FF.F....F                       [654/830]
tests/unit/test_python_migration_completeness.py .....F....           [664/830]
tests/unit/test_shell_architecture.py ....F.....FF                    [676/830]
tests/unit/test_subprocess_utils.py ....F............s....            [698/830]
tests/unit/test_system_taxonomy.py .................................. [732/830]
..............                                                        [746/830]
tests/unit/test_template_files.py ......                              [752/830]
tests/unit/test_test_helpers.py ..................                    [770/830]
tests/unit/test_todo_fixes.py s..s.                                   [775/830]
tests/unit/test_uv_integration.py ssss                                [779/830]
tests/unit/test_uv_manager.py ......F.......FFFFFFFFFFFFFFFFF.F       [812/830]
tests/unit/test_uv_prefect_tasks.py .FFFF.FFFFFFFFFFFF                [830/830]
📊 DHT Test Summary
Total Tests: 830
✅ Passed: 519
❌ Failed: 210
⏩ Skipped: 101
🔧 Test Profile: ci


=================================== FAILURES ===================================
______________ TestBoltUpgradeCommand.test_upgrade_single_package ______________
tests/integration/test_bolt_commands_integration.py:149: in test_upgrade_single_package
    assert "click" in result.stdout.lower() or "upgraded" in result.stdout.lower()
E   AssertionError: assert ('click' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or 'upgraded' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n')
E    +  where '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x14602dd30>()
E    +    where <built-in method lower of str object at 0x14602dd30> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'upgrade', 'click'], returncode=0, stdout...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x14602dd30>()
E    +    where <built-in method lower of str object at 0x14602dd30> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'upgrade', 'click'], returncode=0, stdout...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
_______________ TestBoltUpgradeCommand.test_upgrade_all_packages _______________
tests/integration/test_bolt_commands_integration.py:173: in test_upgrade_all_packages
    assert "upgrade" in result.stdout.lower() or result.stderr.lower()
E   AssertionError: assert ('upgrade' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or '')
E    +  where '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x126f0fe80>()
E    +    where <built-in method lower of str object at 0x126f0fe80> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'upgrade'], returncode=0, stdout='╔══════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   '' = <built-in method lower of str object at 0x1020d0030>()
E    +    where <built-in method lower of str object at 0x1020d0030> = ''.lower
E    +      where '' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'upgrade'], returncode=0, stdout='╔══════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stderr
______________ TestBoltCheckCommand.test_check_command_runs_mypy _______________
tests/integration/test_bolt_commands_integration.py:206: in test_check_command_runs_mypy
    assert "mypy" in result.stdout.lower() or "mypy" in result.stderr.lower() or "type" in result.stdout.lower()
E   AssertionError: assert ('mypy' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or 'mypy' in '' or 'type' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n')
E    +  where '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x126f11ff0>()
E    +    where <built-in method lower of str object at 0x126f11ff0> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'check'], returncode=0, stdout='╔════════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   '' = <built-in method lower of str object at 0x1020d0030>()
E    +    where <built-in method lower of str object at 0x1020d0030> = ''.lower
E    +      where '' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'check'], returncode=0, stdout='╔════════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stderr
E    +  and   '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x126f11ff0>()
E    +    where <built-in method lower of str object at 0x126f11ff0> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'check'], returncode=0, stdout='╔════════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
________________ TestBoltFormatCommands.test_format_check_mode _________________
tests/integration/test_bolt_commands_integration.py:265: in test_format_check_mode
    assert (tmpdir / "test.py").read_text() == "x=1+2"
E   AssertionError: assert 'x = 1 + 2\n' == 'x=1+2'
E
E     - x=1+2
E     + x = 1 + 2
___________________ TestBoltBinCommand.test_bin_when_no_venv ___________________
tests/integration/test_bolt_commands_integration.py:307: in test_bin_when_no_venv
    assert result.returncode != 0
E   AssertionError: assert 0 != 0
E    +  where 0 = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'bin'], returncode=0, stdout='╔══════════...══════════════════════════════════════════════════════╝\n\n/Users/emanuelesabetta/Code/DHT/dht/.venv/bin\n', stderr='').returncode
______________ TestBoltDefaultBehaviors.test_no_args_runs_install ______________
tests/integration/test_bolt_commands_integration.py:374: in test_no_args_runs_install
    assert "setup" in result.stdout.lower() or "install" in result.stdout.lower() or result.returncode == 0
E   AssertionError: assert ('setup' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or 'install' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or 1 == 0)
E    +  where '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x122cfd3b0>()
E    +    where <built-in method lower of str object at 0x122cfd3b0> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl'], returncode=1, stdout='╔═════════════════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x122cfd3b0>()
E    +    where <built-in method lower of str object at 0x122cfd3b0> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl'], returncode=1, stdout='╔═════════════════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   1 = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl'], returncode=1, stdout='╔═════════════════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').returncode
___________ TestBoltDefaultBehaviors.test_install_is_alias_for_setup ___________
tests/integration/test_bolt_commands_integration.py:394: in test_install_is_alias_for_setup
    assert "setup" in result.stdout.lower() or "install" in result.stdout.lower() or result.returncode == 0
E   AssertionError: assert ('setup' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or 'install' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' or 1 == 0)
E    +  where '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x126f0fe80>()
E    +    where <built-in method lower of str object at 0x126f0fe80> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'install'], returncode=1, stdout='╔══════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = <built-in method lower of str object at 0x126f0fe80>()
E    +    where <built-in method lower of str object at 0x126f0fe80> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.lower
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'install'], returncode=1, stdout='╔══════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
E    +  and   1 = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'install'], returncode=1, stdout='╔══════...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').returncode
________ TestWorkspaceFilteringIntegration.test_workspaces_only_filter _________
tests/integration/test_bolt_commands_integration.py:433: in test_workspaces_only_filter
    assert "frontend" in output
E   AssertionError: assert 'frontend' in '╔═════════════════════════════════════════════════════════╗\n║           development helper toolkit launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'
_______ TestWorkspaceFilteringIntegration.test_workspaces_ignore_filter ________
tests/integration/test_bolt_commands_integration.py:468: in test_workspaces_ignore_filter
    assert result.returncode == 0
E   AssertionError: assert 1 == 0
E    +  where 1 = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'ws', 'run', 'echo', 'running', '--ignore...handler(args) if args else handler())\nTypeError: workspaces_command() takes 0 positional arguments but 1 was given\n').returncode
_________ TestProjectCommandIntegration.test_project_run_in_root_only __________
tests/integration/test_bolt_commands_integration.py:506: in test_project_run_in_root_only
    assert result.returncode == 0
E   assert 2 == 0
E    +  where 2 = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'project', 'run', 'python', '-c', "print(...sage: dhtl project [-h] {run} script [args ...]\ndhtl project: error: unrecognized arguments: -c print('Root only')\n").returncode
_________ TestComplexWorkspaceScenarios.test_nested_workspace_members __________
tests/integration/test_bolt_commands_integration.py:555: in test_nested_workspace_members
    assert result.stdout.count("OK") >= 5
E   AssertionError: assert 0 >= 5
E    +  where 0 = <built-in method count of str object at 0x1223858c0>('OK')
E    +    where <built-in method count of str object at 0x1223858c0> = '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'.count
E    +      where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'workspaces', 'run', 'echo', 'OK'], retur...pment Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n', stderr='').stdout
________ TestComplexWorkspaceScenarios.test_workspace_with_dependencies ________
tests/integration/test_bolt_commands_integration.py:596: in test_workspace_with_dependencies
    assert result.returncode == 0
E   AssertionError: assert 1 == 0
E    +  where 1 = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/dhtl', 'workspace', 'app', 'run', 'echo', 'Depen...cher           ║\n╚═════════════════════════════════════════════════════════╝\n\n❌ Error: Command failed\n', stderr='').returncode
____________________ TestCheckCommand.test_check_with_files ____________________
tests/integration/test_bolt_core_commands.py:134: in test_check_with_files
    result = dispatcher.dispatch("check", ["src/main.py", "tests/"])
src/DHT/modules/command_dispatcher.py:159: in dispatch
    parsed_args = self._parse_command_args(command, args)
src/DHT/modules/command_dispatcher.py:306: in _parse_command_args
    parsed = parser.parse_args(args)
../../../.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/argparse.py:1836: in parse_args
    self.error(msg % ' '.join(argv))
../../../.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/argparse.py:2594: in error
    self.exit(2, _('%(prog)s: error: %(message)s\n') % args)
../../../.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/argparse.py:2581: in exit
    _sys.exit(status)
E   SystemExit: 2
----------------------------- Captured stderr call -----------------------------
usage: dhtl check [-h] [--strict] [path]
dhtl check: error: unrecognized arguments: tests/
__________________ TestBinCommand.test_bin_error_when_no_venv __________________
tests/integration/test_bolt_core_commands.py:164: in test_bin_error_when_no_venv
    dispatcher = CommandDispatcher()
src/DHT/modules/command_dispatcher.py:38: in __init__
    self.registry = CommandRegistry()
src/DHT/modules/command_registry.py:31: in __init__
    self._register_all_commands()
src/DHT/modules/command_registry.py:55: in _register_all_commands
    dhtl_cmds = DHTLCommands()
src/DHT/modules/dhtl_commands.py:43: in __init__
    self.uv_manager = UVManager()
src/DHT/modules/uv_manager.py:67: in __init__
    verify_uv_version(self.uv_path, self._min_uv_version, self.run_command)
src/DHT/modules/uv_manager_utils.py:75: in verify_uv_version
    result = run_command_func(["--version"])
src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
src/DHT/modules/uv_manager_utils.py:183: in run_uv_command
    raise UVNotFoundError("UV is not available. Please install UV first.")
E   DHT.modules.uv_manager_exceptions.UVNotFoundError: UV is not available. Please install UV first.
----------------------------- Captured stderr call -----------------------------
11:04:54.881 | ERROR   | DHT.modules.uv_manager_utils - Failed to verify UV version: UV is not available. Please install UV first.
------------------------------ Captured log call -------------------------------
ERROR    DHT.modules.uv_manager_utils:uv_manager_utils.py:87 Failed to verify UV version: UV is not available. Please install UV first.
________________ TestFormatCommands.test_format_with_check_flag ________________
tests/integration/test_bolt_core_commands.py:203: in test_format_with_check_flag
    assert "--check" in call_str or "--diff" in call_str
E   assert ('--check' in "[call(['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/ruff', 'format', '/Users/emanuelesabetta/Code/DHT/dht'], check=False)]" or '--diff' in "[call(['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/ruff', 'format', '/Users/emanuelesabetta/Code/DHT/dht'], check=False)]")
----------------------------- Captured stdout call -----------------------------
🔄 🎨 Formatting code in project...
🔄 🎨 Formatting Python files...
🔄 🔄 Running ruff format...
🔄 Running command with 2048MB memory limit
✅ Ruff format completed successfully.
✅ All formatting completed successfully.
________________ TestDHTLBuildCommand.test_build_basic_project _________________
src/DHT/modules/subprocess_utils.py:355: in run_subprocess
    raise subprocess.CalledProcessError(process.returncode, command, stdout, stderr)
E   subprocess.CalledProcessError: Command '['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/uv', 'run', 'ruff', 'check', '.']' returned non-zero exit status 1.

The above exception was the direct cause of the following exception:
tests/integration/test_dhtl_build_command.py:45: in test_build_basic_project
    result = commands.build(str(project_dir))
src/DHT/modules/dhtl_commands.py:169: in build
    result = self._build_cmd.build.fn(
src/DHT/modules/dhtl_commands_build.py:73: in build
    ruff_result = uv_manager.run_command(["run", "ruff", "check", "."], cwd=project_path)
src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
src/DHT/modules/uv_manager_utils.py:193: in run_uv_command
    run_subprocess(
src/DHT/modules/subprocess_utils.py:410: in run_subprocess
    raise last_error from e
E   DHT.modules.subprocess_utils.ProcessExecutionError: Command failed with exit code 1
----------------------------- Captured stderr call -----------------------------
11:04:55.442 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 1/3), retrying...
11:04:56.000 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 2/3), retrying...
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 1/3), retrying...
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 2/3), retrying...
_______ TestDeployProjectInContainer.test_dockerfile_generation_web_app ________
tests/integration/test_dhtl_deploy_container.py:178: in test_dockerfile_generation_web_app
    assert "FROM python:3.11-slim" in dockerfile_content
E   TypeError: argument of type 'NoneType' is not iterable
_______ TestDeployProjectInContainer.test_dockerfile_generation_cli_app ________
tests/integration/test_dhtl_deploy_container.py:224: in test_dockerfile_generation_cli_app
    assert "EXPOSE" not in dockerfile_content
E   TypeError: argument of type 'NoneType' is not iterable
__________ TestDeployProjectInContainer.test_container_build_process ___________
tests/integration/test_dhtl_deploy_container.py:233: in test_container_build_process
    success, logs = docker_mgr.build_image(temp_project, image_tag)
E   TypeError: cannot unpack non-iterable NoneType object
_________ TestDeployProjectInContainer.test_container_run_application __________
tests/integration/test_dhtl_deploy_container.py:249: in test_container_run_application
    assert container is not None
E   assert None is not None
_______ TestDeployProjectInContainer.test_pytest_execution_in_container ________
tests/integration/test_dhtl_deploy_container.py:275: in test_pytest_execution_in_container
    assert results["total"] == 2
E   TypeError: 'NoneType' object is not subscriptable
_____ TestDeployProjectInContainer.test_playwright_execution_in_container ______
tests/integration/test_dhtl_deploy_container.py:313: in test_playwright_execution_in_container
    assert results["total"] >= 1
E   TypeError: 'NoneType' object is not subscriptable
_________ TestDeployProjectInContainer.test_deploy_command_integration _________
tests/integration/test_dhtl_deploy_container.py:391: in test_deploy_command_integration
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
_____________ TestDeployProjectInContainer.test_cleanup_on_failure _____________
tests/integration/test_dhtl_deploy_container.py:428: in test_cleanup_on_failure
    with pytest.raises(DockerError, match="Failed to build image"):
E   Failed: DID NOT RAISE <class 'DHT.modules.docker_manager.DockerError'>
_____________ TestDeployProjectInContainer.test_multi_stage_build ______________
tests/integration/test_dhtl_deploy_container.py:487: in test_multi_stage_build
    assert "AS builder" in dockerfile_content
E   TypeError: argument of type 'NoneType' is not iterable
_____________ TestDhtlInitCommand.test_init_with_package_structure _____________
tests/integration/test_dhtl_init_command.py:114: in test_init_with_package_structure
    assert package_dir.exists()
E   AssertionError: assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmprsjhl3gj/my-package/my_package').exists
______________ TestDhtlInitCommand.test_init_with_github_actions _______________
tests/integration/test_dhtl_init_command.py:292: in test_init_with_github_actions
    assert workflow_path.exists()
E   AssertionError: assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmpxuvbry6r/ci-project/.github/workflows/test.yml').exists
_____________ TestDhtlInitCommand.test_init_from_requirements_txt ______________
tests/integration/test_dhtl_init_command.py:321: in test_init_from_requirements_txt
    assert result["success"] is True
E   assert False is True
----------------------------- Captured stderr call -----------------------------
11:05:01.758 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 1/3), retrying...
11:05:02.270 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 2/3), retrying...
11:05:02.781 | ERROR   | DHT.modules.dhtl_commands_init - Failed to initialize project: Command failed with exit code 2
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 1/3), retrying...
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 2/3), retrying...
ERROR    DHT.modules.dhtl_commands_init:dhtl_commands_init.py:204 Failed to initialize project: Command failed with exit code 2
____________ TestDhtlSetupCommand.test_setup_from_requirements_txt _____________
tests/integration/test_dhtl_setup_command.py:176: in test_setup_from_requirements_txt
    assert result["success"] is True
E   assert False is True
----------------------------- Captured stderr call -----------------------------
11:05:03.384 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 1/3), retrying...
11:05:04.087 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 2/3), retrying...
11:05:04.776 | ERROR   | DHT.modules.dhtl_commands_setup - Failed to setup project: Command failed with exit code 1
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 1/3), retrying...
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 2/3), retrying...
ERROR    DHT.modules.dhtl_commands_setup:dhtl_commands_setup.py:248 Failed to setup project: Command failed with exit code 1
______________ TestDhtlSetupCommand.test_setup_with_install_flags ______________
tests/integration/test_dhtl_setup_command.py:248: in test_setup_with_install_flags
    assert result["success"] is True
E   assert False is True
----------------------------- Captured stderr call -----------------------------
11:05:05.717 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 1/3), retrying...
11:05:06.985 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 2/3), retrying...
11:05:08.245 | ERROR   | DHT.modules.dhtl_commands_setup - Failed to setup project: Command failed with exit code 1
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 1/3), retrying...
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 2/3), retrying...
ERROR    DHT.modules.dhtl_commands_setup:dhtl_commands_setup.py:248 Failed to setup project: Command failed with exit code 1
________________ test_dhtl_setup_creates_venv_and_installs_deps ________________
tests/integration/test_dhtl_setup_init.py:108: in test_dhtl_setup_creates_venv_and_installs_deps
    result = run_dhtl_command(["setup"], cwd=mock_project_dir)
tests/integration/test_dhtl_setup_init.py:56: in run_dhtl_command
    pytest.fail(f"Cannot find dhtl.sh in mock project {cwd} or real location {real_dht_dir}")
E   Failed: Cannot find dhtl.sh in mock project /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/dht_tests_2/mock_project or real location /Users/emanuelesabetta/Code/DHT/dht
_______________ test_dhtl_init_creates_structure_and_runs_setup ________________
tests/integration/test_dhtl_setup_init.py:141: in test_dhtl_init_creates_structure_and_runs_setup
    result = run_dhtl_command(["init", str(init_target_dir)], cwd=mock_project_dir)
tests/integration/test_dhtl_setup_init.py:56: in run_dhtl_command
    pytest.fail(f"Cannot find dhtl.sh in mock project {cwd} or real location {real_dht_dir}")
E   Failed: Cannot find dhtl.sh in mock project /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/dht_tests_3/mock_project or real location /Users/emanuelesabetta/Code/DHT/dht
________________________ test_dhtl_setup_is_idempotent _________________________
tests/integration/test_dhtl_setup_init.py:184: in test_dhtl_setup_is_idempotent
    result1 = run_dhtl_command(["setup"], cwd=mock_project_dir)
tests/integration/test_dhtl_setup_init.py:56: in run_dhtl_command
    pytest.fail(f"Cannot find dhtl.sh in mock project {cwd} or real location {real_dht_dir}")
E   Failed: Cannot find dhtl.sh in mock project /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/dht_tests_4/mock_project or real location /Users/emanuelesabetta/Code/DHT/dht
_______________________ test_dhtl_setup_handles_secrets ________________________
tests/integration/test_dhtl_setup_init.py:218: in test_dhtl_setup_handles_secrets
    result = run_dhtl_command(["setup"], cwd=mock_project_dir, env=mock_env)
tests/integration/test_dhtl_setup_init.py:56: in run_dhtl_command
    pytest.fail(f"Cannot find dhtl.sh in mock project {cwd} or real location {real_dht_dir}")
E   Failed: Cannot find dhtl.sh in mock project /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/dht_tests_5/mock_project or real location /Users/emanuelesabetta/Code/DHT/dht
_________________ test_dhtl_setup_respects_python_version_file _________________
tests/integration/test_dhtl_setup_init.py:266: in test_dhtl_setup_respects_python_version_file
    result = run_dhtl_command(["setup"], cwd=mock_project_dir)
tests/integration/test_dhtl_setup_init.py:56: in run_dhtl_command
    pytest.fail(f"Cannot find dhtl.sh in mock project {cwd} or real location {real_dht_dir}")
E   Failed: Cannot find dhtl.sh in mock project /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/dht_tests_6/mock_project or real location /Users/emanuelesabetta/Code/DHT/dht
____________ TestGitHubCloneSetup.test_dhtl_regenerate_after_clone _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_github_clone_setup.py:153: in test_dhtl_regenerate_after_clone
    assert regenerate_result.returncode == 0, f"dhtl regenerate failed: {regenerate_result.stderr}"
E   AssertionError: dhtl regenerate failed: Traceback (most recent call last):
E       File "/Users/emanuelesabetta/Code/DHT/dht/src/DHT/dhtl.py", line 94, in <module>
E         main()
E       File "/Users/emanuelesabetta/Code/DHT/dht/src/DHT/dhtl.py", line 90, in main
E         return launcher.run_command(command, command_args)  # type: ignore[return-value]
E       File "/Users/emanuelesabetta/Code/DHT/dht/src/DHT/launcher.py", line 217, in run_command
E         return dispatcher.dispatch(command, args)
E       File "/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/command_dispatcher.py", line 53, in dispatch
E         self.logger.info(f"Unknown command '{command}', attempting to run as script")  # type: ignore[attr-defined]
E     AttributeError: 'CommandDispatcher' object has no attribute 'logger'
E
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['python', '/Users/emanuelesabetta/Code/DHT/dht/dhtl_entry.py', 'regenerate'], returncode=1, std...as script")  # type: ignore[attr-defined]\nAttributeError: \'CommandDispatcher\' object has no attribute \'logger\'\n').returncode
________________ TestGitHubReposWorkflow.test_all_repositories _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_github_repos_workflow.py:267: in test_all_repositories
    assert successful_clones > 0, "No repositories were successfully cloned"
E   AssertionError: No repositories were successfully cloned
E   assert 0 > 0
----------------------------- Captured stdout call -----------------------------

================================================================================
DHT GitHub Repository Workflow Test
Started: 2025-06-30 11:05:13
================================================================================

[1/12] Testing repository...

============================================================
Testing: requests
URL: https://github.com/psf/requests
============================================================
✅ Clone successful (1.5s)

[2/12] Testing repository...

============================================================
Testing: click
URL: https://github.com/pallets/click
============================================================
✅ Clone successful (1.5s)

[3/12] Testing repository...

============================================================
Testing: flask
URL: https://github.com/pallets/flask
============================================================
✅ Clone successful (1.5s)

[4/12] Testing repository...

============================================================
Testing: httpx
URL: https://github.com/encode/httpx
============================================================
✅ Clone successful (1.5s)

[5/12] Testing repository...

============================================================
Testing: typer
URL: https://github.com/tiangolo/typer
============================================================
✅ Clone successful (1.5s)

[6/12] Testing repository...

============================================================
Testing: pydantic-core
URL: https://github.com/pydantic/pydantic-core
============================================================
✅ Clone successful (1.6s)

[7/12] Testing repository...

============================================================
Testing: pytest-mock
URL: https://github.com/pytest-dev/pytest-mock
============================================================
✅ Clone successful (1.6s)

[8/12] Testing repository...

============================================================
Testing: tomlkit
URL: https://github.com/python-poetry/tomlkit
============================================================
✅ Clone successful (1.5s)

[9/12] Testing repository...

============================================================
Testing: pendulum
URL: https://github.com/sdispater/pendulum
============================================================
✅ Clone successful (1.5s)

[10/12] Testing repository...

============================================================
Testing: fastapi
URL: https://github.com/tiangolo/fastapi
============================================================
✅ Clone successful (1.6s)

[11/12] Testing repository...

============================================================
Testing: ruff
URL: https://github.com/astral-sh/ruff
============================================================
✅ Clone successful (1.5s)

[12/12] Testing repository...

============================================================
Testing: pandas
URL: https://github.com/pandas-dev/pandas
============================================================
✅ Clone successful (2.2s)

================================================================================
TEST RESULTS SUMMARY
================================================================================
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| Repository    | Clone   | Time   | Setup   | Time   | Venv   | Lock   | Build   | Time   | Notes   |
+===============+=========+========+=========+========+========+========+=========+========+=========+
| requests      | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| click         | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| flask         | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| httpx         | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| typer         | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| pydantic-core | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| pytest-mock   | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| tomlkit       | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| pendulum      | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| fastapi       | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| ruff          | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+
| pandas        | ❌      | -      | ❌      | -      | ❌     | ❌     | ❌      | -      |         |
+---------------+---------+--------+---------+--------+--------+--------+---------+--------+---------+

================================================================================
SUMMARY STATISTICS
================================================================================
+----------------------+---------+--------------+
| Metric               |   Count | Percentage   |
+======================+=========+==============+
| Total Repositories   |      12 | 100%         |
+----------------------+---------+--------------+
| Successful Clones    |       0 | 0.0%         |
+----------------------+---------+--------------+
| Successful Setups    |       0 | 0.0%         |
+----------------------+---------+--------------+
| Virtual Envs Created |       0 | 0.0%         |
+----------------------+---------+--------------+
| UV Locks Created     |       0 | 0.0%         |
+----------------------+---------+--------------+
| Successful Builds    |       0 | 0.0%         |
+----------------------+---------+--------------+

================================================================================
PERFORMANCE METRICS
================================================================================
+--------------------+---------+
| Metric             | Value   |
+====================+=========+
| Average Clone Time | 0.0s    |
+--------------------+---------+
| Average Setup Time | 0.0s    |
+--------------------+---------+
| Average Build Time | 0.0s    |
+--------------------+---------+
| Total Test Time    | 19.0s   |
+--------------------+---------+

Detailed results saved to: dht_test_results.json
______________ TestUVManagerIntegration.test_create_venv_and_sync ______________
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/subprocess_utils.py:355: in run_subprocess
    raise subprocess.CalledProcessError(process.returncode, command, stdout, stderr)
E   subprocess.CalledProcessError: Command '['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/uv', 'init', '--no-workspace']' returned non-zero exit status 2.

The above exception was the direct cause of the following exception:
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_uv_manager_integration.py:132: in test_create_venv_and_sync
    init_result = uv_manager.run_command(["init", "--no-workspace"], cwd=project_path)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_utils.py:193: in run_uv_command
    run_subprocess(
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/subprocess_utils.py:410: in run_subprocess
    raise last_error from e
E   DHT.modules.subprocess_utils.ProcessExecutionError: Command failed with exit code 2
----------------------------- Captured stderr call -----------------------------
11:05:32.817 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 1/3), retrying...
11:05:33.330 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 2/3), retrying...
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 1/3), retrying...
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 2/3), retrying...
___________ TestUVManagerIntegration.test_add_and_remove_dependency ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_uv_manager_integration.py:165: in test_add_and_remove_dependency
    assert add_result["success"]
E   TypeError: 'NoneType' object is not subscriptable
______________ TestUVManagerIntegration.test_lock_file_generation ______________
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/subprocess_utils.py:355: in run_subprocess
    raise subprocess.CalledProcessError(process.returncode, command, stdout, stderr)
E   subprocess.CalledProcessError: Command '['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/uv', 'init', '--no-workspace']' returned non-zero exit status 2.

The above exception was the direct cause of the following exception:
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_uv_manager_integration.py:285: in test_lock_file_generation
    init_result = uv_manager.run_command(["init", "--no-workspace"], cwd=project_path)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_utils.py:193: in run_uv_command
    run_subprocess(
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/subprocess_utils.py:410: in run_subprocess
    raise last_error from e
E   DHT.modules.subprocess_utils.ProcessExecutionError: Command failed with exit code 2
----------------------------- Captured stderr call -----------------------------
11:05:34.349 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 1/3), retrying...
11:05:34.861 | WARNING | DHT.modules.subprocess_utils - Command failed (attempt 2/3), retrying...
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 1/3), retrying...
WARNING  DHT.modules.subprocess_utils:subprocess_utils.py:404 Command failed (attempt 2/3), retrying...
___________ TestWorkspaceIntegration.test_workspaces_run_integration ___________
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_workspace_commands_integration.py:65: in test_workspaces_run_integration
    assert result.returncode == 0
E   AssertionError: assert 1 == 0
E    +  where 1 = CompletedProcess(args=['python', '-m', 'dhtl', 'workspaces', 'run', 'python', '--version'], returncode=1, stdout='', stderr='/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/python: No module named dhtl\n').returncode
______ TestWorkspaceIntegration.test_workspace_single_member_integration _______
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_workspace_commands_integration.py:103: in test_workspace_single_member_integration
    assert result.returncode == 0
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['python', '-m', 'dhtl', 'workspace', 'myapp', 'run', 'python', '-c', "print('Hello from myapp')"], returncode=1, stdout='', stderr='/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/python: No module named dhtl\n').returncode
__________ TestWorkspaceIntegration.test_project_command_integration ___________
/Users/emanuelesabetta/Code/DHT/dht/tests/integration/test_workspace_commands_integration.py:129: in test_project_command_integration
    assert result.returncode == 0
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['python', '-m', 'dhtl', 'project', 'run', 'python', '-c', "print('Root project')"], returncode=1, stdout='', stderr='/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/python: No module named dhtl\n').returncode
_______________________________ test_bash_parser _______________________________
Expected None, but test returned True. Did you mean to use `assert` instead of `return`?
----------------------------- Captured stdout call -----------------------------
Testing Bash Parser...
--------------------------------------------------
✅ Successfully parsed /var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmpjpbjyfev.sh

Parser type: regex

📦 Functions found: 2
  - hello_world (line 14)
    Local variables:
  - setup_environment (line 19)
    Local variables: env_type, config_file

📊 Variables found: 3
  - PROJECT_NAME = DHT (type: string)
  - VERSION = 1.0.0 (type: string)
  - DEBUG = false (type: boolean)

🌍 Exports found: 4
  - PATH = /usr/local/bin:$PATH
  - PROJECT_HOME = /opt/dht
  - NODE_ENV = production
  - NODE_ENV = development

📁 Sourced files: 2
  - ./common.sh (line 31)
  - /etc/profile (line 32)

🔧 Commands found: 3
  Unique commands: docker, git, npm

📦 External dependencies: 3
  commands, packages, files

🔄 Control structures:
  - if_statements: 2
  - for_loops: 2
  - while_loops: 1
  - case_statements: 1
  - functions: 2

🔍 Testing extract_dependencies method:
  Dependencies: commands, packages, files

💾 Full results saved to: bash_parser_test_results.json
----------------------------- Captured stderr call -----------------------------
11:05:37.705 | WARNING | DHT.modules.parsers.bash_parser_tree_sitter - Failed to initialize tree-sitter Bash parser: Incompatible Language version 15. Must be between 13 and 14
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.parsers.bash_parser_tree_sitter:bash_parser_tree_sitter.py:64 Failed to initialize tree-sitter Bash parser: Incompatible Language version 15. Must be between 13 and 14
________________________ test_tree_sitter_availability _________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_bash_parser.py:203: in test_tree_sitter_availability
    if parser.parser:
E   AttributeError: 'BashParser' object has no attribute 'parser'
----------------------------- Captured stdout call -----------------------------

🔍 Checking tree-sitter availability...
✅ tree-sitter module is available
✅ tree-sitter-bash module is available
----------------------------- Captured stderr call -----------------------------
11:05:37.713 | WARNING | DHT.modules.parsers.bash_parser_tree_sitter - Failed to initialize tree-sitter Bash parser: Incompatible Language version 15. Must be between 13 and 14
------------------------------ Captured log call -------------------------------
WARNING  DHT.modules.parsers.bash_parser_tree_sitter:bash_parser_tree_sitter.py:64 Failed to initialize tree-sitter Bash parser: Incompatible Language version 15. Must be between 13 and 14
_________________________________ test_version _________________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_dhtl_cli.py:28: in test_version
    assert "Development Helper Toolkit Launcher" in res.stdout
E   AssertionError: assert 'Development Helper Toolkit Launcher' in 'Development Helper Toolkit (DHT) v1.0.0\nPure Python implementation\n'
E    +  where 'Development Helper Toolkit (DHT) v1.0.0\nPure Python implementation\n' = CompletedProcess(args=['python', '/Users/emanuelesabetta/Code/DHT/dht/dhtl_entry.py', '--no-guardian', '--quiet', 'version'], returncode=0, stdout='Development Helper Toolkit (DHT) v1.0.0\nPure Python implementation\n', stderr='').stdout
__________________________ test_dhtl_unknown_command ___________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_dhtl_python.py:40: in test_dhtl_unknown_command
    assert "Unknown command" in result.stdout
E   assert 'Unknown command' in '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n'
E    +  where '╔═════════════════════════════════════════════════════════╗\n║           Development Helper Toolkit Launcher           ║\n╚═════════════════════════════════════════════════════════╝\n\n' = CompletedProcess(args=['/Users/emanuelesabetta/Code/DHT/dht/.venv/bin/python', '/Users/emanuelesabetta/Code/DHT/dht/dh...as script")  # type: ignore[attr-defined]\nAttributeError: \'CommandDispatcher\' object has no attribute \'logger\'\n').stdout
__________________________ test_task_decorator_works ___________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_prefect_compat.py:49: in test_task_decorator_works
    assert result == 5
E   assert None == 5
________________________ test_flow_decorator_available _________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_prefect_compat.py:63: in test_flow_decorator_available
    assert result == "flow executed"
E   AssertionError: assert None == 'flow executed'
_______ TestProjectRequirementsDetection.test_detect_django_requirements _______
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:31: in test_detect_django_requirements
    assert requirements["use_docker"] is True
E   TypeError: 'NoneType' object is not subscriptable
______ TestProjectRequirementsDetection.test_detect_fastapi_requirements _______
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:42: in test_detect_fastapi_requirements
    assert requirements["use_docker"] is True
E   TypeError: 'NoneType' object is not subscriptable
________ TestProjectRequirementsDetection.test_detect_cli_requirements _________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:54: in test_detect_cli_requirements
    assert requirements["use_docker"] is False
E   TypeError: 'NoneType' object is not subscriptable
______ TestProjectRequirementsDetection.test_detect_library_requirements _______
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:63: in test_detect_library_requirements
    assert requirements["use_docker"] is False
E   TypeError: 'NoneType' object is not subscriptable
____________ TestProjectGeneratorFlow.test_generate_fastapi_project ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:89: in test_generate_fastapi_project
    assert result is True
E   assert None is True
____________ TestProjectGeneratorFlow.test_generate_django_project _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:139: in test_generate_django_project
    assert result is True
E   assert None is True
______________ TestProjectGeneratorFlow.test_generate_cli_project ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:163: in test_generate_cli_project
    assert result is True
E   assert None is True
__________ TestProjectGeneratorFlow.test_project_with_custom_features __________
/Users/emanuelesabetta/Code/DHT/dht/tests/test_project_generator_flow.py:184: in test_project_with_custom_features
    assert result is True
E   assert None is True
__________ TestComprehensiveVerification.test_no_shell_scripts_remain __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_comprehensive_verification.py:76: in test_no_shell_scripts_remain
    assert len(shell_files) == 0, (
E   AssertionError: Shell files should be removed, found: ['cleanup_docker.sh']
E   assert 1 == 0
E    +  where 1 = len([PosixPath('/Users/emanuelesabetta/Code/DHT/dht/cleanup_docker.sh')])
_ TestComprehensiveVerification.test_orchestrator_imports_all_required_modules _
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_comprehensive_verification.py:301: in test_orchestrator_imports_all_required_modules
    assert len(missing_imports) == 0, f"Orchestrator missing imports for: {missing_imports}"
E   AssertionError: Orchestrator missing imports for: ['dhtl_environment_utils', 'dhtl_utils', 'command_dispatcher']
E   assert 3 == 0
E    +  where 3 = len(['dhtl_environment_utils', 'dhtl_utils', 'command_dispatcher'])
____ TestComprehensiveVerification.test_no_large_files_violating_guidelines ____
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_comprehensive_verification.py:390: in test_no_large_files_violating_guidelines
    assert len(large_files) < 30, f"Too many large files ({len(large_files)}) - consider refactoring"
E   AssertionError: Too many large files (40) - consider refactoring
E   assert 40 < 30
E    +  where 40 = len(['environment_validator.py: 13.0KB (Python >10KB)', 'environment_configurator.py: 16.2KB (Python >10KB)', 'dhtl_guardi... (Python >10KB)', 'act_integration.py: 18.8KB (Python >10KB)', 'environment_reproducer.py: 17.8KB (Python >10KB)', ...])
----------------------------- Captured stdout call -----------------------------

Files exceeding size guidelines:
  - environment_validator.py: 13.0KB (Python >10KB)
  - environment_configurator.py: 16.2KB (Python >10KB)
  - dhtl_guardian_prefect.py: 11.2KB (Python >10KB)
  - project_analyzer.py: 14.1KB (Python >10KB)
  - act_integration.py: 18.8KB (Python >10KB)
  - environment_reproducer.py: 17.8KB (Python >10KB)
  - dhtl_guardian_command.py: 10.8KB (Python >10KB)
  - dhtl_utils.py: 12.5KB (Python >10KB)
  - command_runner.py: 10.1KB (Python >10KB)
  - guardian_prefect.py: 18.4KB (Python >10KB)
  - act_container_setup.py: 11.1KB (Python >10KB)
  - cli_commands_utilities.py: 10.4KB (Python >10KB)
  - dockerfile_generator.py: 17.9KB (Python >10KB)
  - command_dispatcher.py: 17.5KB (Python >10KB)
  - environment_installer.py: 10.4KB (Python >10KB)
  - dhtl_commands_setup.py: 11.8KB (Python >10KB)
  - dhtl_docker.py: 16.3KB (Python >10KB)
  - project_type_detection_helpers.py: 13.8KB (Python >10KB)
  - lock_file_manager.py: 10.5KB (Python >10KB)
  - dhtl_version.py: 11.7KB (Python >10KB)
  - container_test_runner.py: 14.1KB (Python >10KB)
  - dhtl_error_handling.py: 16.6KB (Python >10KB)
  - dhtl_commands_workflows.py: 12.5KB (Python >10KB)
  - subprocess_utils.py: 17.7KB (Python >10KB)
  - docker_manager.py: 13.4KB (Python >10KB)
  - environment_analyzer.py: 11.4KB (Python >10KB)
  - command_registry.py: 11.9KB (Python >10KB)
  - system_taxonomy.py: 13.6KB (Python >10KB)
  - universal_build_detector.py: 15.4KB (Python >10KB)
  - bash_parser_tree_sitter.py: 10.8KB (Python >10KB)
  - python_parser.py: 18.9KB (Python >10KB)
  - pyproject_parser.py: 13.0KB (Python >10KB)
  - workspace_base.py: 11.1KB (Python >10KB)
  - database_config_tasks.py: 12.9KB (Python >10KB)
  - project_generator_flow.py: 11.8KB (Python >10KB)
  - config_generation_tasks.py: 16.2KB (Python >10KB)
  - project_setup_flow.py: 10.1KB (Python >10KB)
  - testing_config_tasks.py: 12.9KB (Python >10KB)
  - test_flow.py: 15.5KB (Python >10KB)
  - restore_flow.py: 13.2KB (Python >10KB)
____________ TestRestoreFlow.test_find_project_root_with_pyproject _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:74: in test_find_project_root_with_pyproject
    assert root.resolve() == project_path.resolve()
E   AttributeError: 'NoneType' object has no attribute 'resolve'
_______________ TestRestoreFlow.test_find_project_root_with_git ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:91: in test_find_project_root_with_git
    assert root == project_dir
E   AssertionError: assert None == PosixPath('/private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/test_find_project_root_with_gi0/git_project')
_______________ TestRestoreFlow.test_find_project_root_not_found _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:98: in test_find_project_root_not_found
    with pytest.raises(ValueError, match="Could not find project root"):
E   Failed: DID NOT RAISE <class 'ValueError'>
____________ TestRestoreFlow.test_detect_virtual_environment_exists ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:109: in test_detect_virtual_environment_exists
    exists, detected_path = detect_virtual_environment(project_path)
E   TypeError: cannot unpack non-iterable NoneType object
__________ TestRestoreFlow.test_detect_virtual_environment_not_exists __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:122: in test_detect_virtual_environment_not_exists
    exists, suggested_path = detect_virtual_environment(project_path)
E   TypeError: cannot unpack non-iterable NoneType object
_______________ TestRestoreFlow.test_create_virtual_environment ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:141: in test_create_virtual_environment
    assert result == venv_path
E   AssertionError: assert None == PosixPath('/tmp/test_venv')
_____________ TestRestoreFlow.test_install_dependencies_with_lock ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:171: in test_install_dependencies_with_lock
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
___________________ TestRestoreFlow.test_verify_installation ___________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:210: in test_verify_installation
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
___________ TestRestoreFlow.test_restore_dependencies_flow_complete ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:253: in test_restore_dependencies_flow_complete
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
____________________ TestTestFlow.test_check_test_resources ____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:287: in test_check_test_resources
    assert result["has_resources"] is True
E   TypeError: 'NoneType' object is not subscriptable
_______________ TestTestFlow.test_discover_tests_pytest_project ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:300: in test_discover_tests_pytest_project
    assert result["test_dirs"] == [str(project_path / "tests")]
E   TypeError: 'NoneType' object is not subscriptable
__________________ TestTestFlow.test_discover_tests_no_tests ___________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:316: in test_discover_tests_no_tests
    assert result["test_dirs"] == []
E   TypeError: 'NoneType' object is not subscriptable
________________ TestTestFlow.test_prepare_test_command_pytest _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:342: in test_prepare_test_command_pytest
    assert str(venv_path / "bin" / "python") in cmd
E   TypeError: argument of type 'NoneType' is not iterable
______________ TestTestFlow.test_parse_test_output_pytest_success ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:370: in test_parse_test_output_pytest_success
    assert summary["total"] == 4
E   TypeError: 'NoneType' object is not subscriptable
_____________ TestTestFlow.test_parse_test_output_pytest_failures ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:393: in test_parse_test_output_pytest_failures
    assert summary["total"] == 5
E   TypeError: 'NoneType' object is not subscriptable
_________________ TestTestFlow.test_parse_test_output_unittest _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:418: in test_parse_test_output_unittest
    assert summary["total"] == 7
E   TypeError: 'NoneType' object is not subscriptable
_________________ TestTestFlow.test_test_command_flow_complete _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:471: in test_test_command_flow_complete
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
_________________ TestTestFlow.test_test_command_flow_no_venv __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dht_flows.py:495: in test_test_command_flow_no_venv
    with pytest.raises(RuntimeError, match="No virtual environment found"):
E   Failed: DID NOT RAISE <class 'RuntimeError'>
________________________ TestDHTConfig.test_deep_merge _________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dhtconfig.py:184: in test_deep_merge
    assert base["a"]["b"] == 2
E   assert 1 == 2
_________________________________ test_command _________________________________
Expected None, but test returned 5. Did you mean to use `assert` instead of `return`?
----------------------------- Captured stdout call -----------------------------
🔄 🧪 Running project tests...
🔄 Using pytest to run tests...
🔄 Running command with 2048MB memory limit
============================= test session starts ==============================
platform darwin -- Python 3.10.17, pytest-8.4.0, pluggy-1.6.0
rootdir: /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/github_repos_test0
plugins: anyio-4.9.0, cov-6.2.1, asyncio-1.0.0
asyncio: mode=strict, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 0 items

=============================== warnings summary ===============================
../../../../../../../../../Users/emanuelesabetta/Code/DHT/dht/.venv/lib/python3.10/site-packages/_pytest/config/__init__.py:1290
  /Users/emanuelesabetta/Code/DHT/dht/.venv/lib/python3.10/site-packages/_pytest/config/__init__.py:1290: PytestAssertRewriteWarning: Module already imported so cannot be rewritten; anyio
    self._mark_plugins_for_rewrite(hook, disable_autoload)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============================== 1 warning in 0.00s ==============================
----------------------------- Captured stderr call -----------------------------
❌ ERROR: Tests failed with exit code 5
_________________ TestCoverageCommand.test_coverage_no_pytest __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_dhtl_commands.py:119: in test_coverage_no_pytest
    assert result == 1
E   assert 5 == 1
----------------------------- Captured stdout call -----------------------------
🔄 📊 Running code coverage analysis...
🔄 Running pytest with coverage...
🔄 Running command with 2048MB memory limit
============================= test session starts ==============================
platform darwin -- Python 3.10.17, pytest-8.4.0, pluggy-1.6.0 -- /Users/emanuelesabetta/Code/DHT/dht/.venv/bin/python
cachedir: .pytest_cache
rootdir: /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/github_repos_test0
plugins: anyio-4.9.0, cov-6.2.1, asyncio-1.0.0
asyncio: mode=strict, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 0 items

WARNING: Failed to generate report: No data to report.


=============================== warnings summary ===============================
../../../../../../../../../Users/emanuelesabetta/Code/DHT/dht/.venv/lib/python3.10/site-packages/_pytest/config/__init__.py:1290
  /Users/emanuelesabetta/Code/DHT/dht/.venv/lib/python3.10/site-packages/_pytest/config/__init__.py:1290: PytestAssertRewriteWarning: Module already imported so cannot be rewritten; anyio
    self._mark_plugins_for_rewrite(hook, disable_autoload)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
______________ coverage: platform darwin, python 3.10.17-final-0 _______________

============================== 1 warning in 0.01s ==============================
----------------------------- Captured stderr call -----------------------------
/Users/emanuelesabetta/Code/DHT/dht/.venv/lib/python3.10/site-packages/coverage/control.py:915: CoverageWarning: No data was collected. (no-data-collected)
  self._warn("No data was collected.", slug="no-data-collected")
/Users/emanuelesabetta/Code/DHT/dht/.venv/lib/python3.10/site-packages/pytest_cov/plugin.py:358: CovReportWarning: Failed to generate report: No data to report.

  warnings.warn(CovReportWarning(message), stacklevel=1)
❌ ERROR: Coverage analysis failed with exit code 5
________ TestDjangoDetectionFix.test_project_heuristics_detects_django _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_django_detection_fix.py:152: in test_project_heuristics_detects_django
    assert heuristic_result["primary_type"] == "django"
E   TypeError: 'NoneType' object is not subscriptable
_________ TestDjangoDetectionFix.test_project_type_detector_full_flow __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_django_detection_fix.py:180: in test_project_type_detector_full_flow
    assert analysis.type == ProjectType.DJANGO
E   AttributeError: 'NoneType' object has no attribute 'type'
_________ TestDjangoDetectionFix.test_django_rest_framework_detection __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_django_detection_fix.py:229: in test_django_rest_framework_detection
    assert analysis.type == ProjectType.DJANGO_REST
E   AttributeError: 'NoneType' object has no attribute 'type'
__________________ TestDockerManager.test_find_docker_command __________________
/workspace/tests/unit/test_docker.py:39: in test_find_docker_command
    ???
E   AssertionError: assert 'podman' is None
E    +  where 'podman' = _find_docker_command()
E    +    where _find_docker_command = <src.DHT.modules.dhtl_docker.DockerManager object at 0x12775da20>._find_docker_command
_________________ TestDockerManager.test_check_docker_compose __________________
/workspace/tests/unit/test_docker.py:82: in test_check_docker_compose
    ???
E   assert True is False
E    +  where True = check_docker_compose()
E    +    where check_docker_compose = <src.DHT.modules.dhtl_docker.DockerManager object at 0x1276138e0>.check_docker_compose
____________________ TestDockerTasks.test_docker_build_task ____________________
/workspace/tests/unit/test_docker.py:183: in test_docker_build_task
    ???
E   assert None is True
____________________ TestDockerTasks.test_docker_test_task _____________________
/workspace/tests/unit/test_docker.py:203: in test_docker_test_task
    ???
E   assert None == 0
__________________ TestDockerManager.test_build_image_success __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:101: in test_build_image_success
    success, logs = manager.build_image(Path("/test/project"), "test:latest")
E   TypeError: cannot unpack non-iterable NoneType object
__________________ TestDockerManager.test_build_image_failure __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:117: in test_build_image_failure
    with pytest.raises(DockerError, match="Failed to build image"):
E   Failed: DID NOT RAISE <class 'DHT.modules.docker_manager.DockerError'>
_____________________ TestDockerManager.test_run_container _____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:142: in test_run_container
    assert container is not None
E   assert None is not None
____________ TestDockerfileGenerator.test_generate_basic_dockerfile ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:275: in test_generate_basic_dockerfile
    assert "FROM python:3.11-slim" in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
_________ TestDockerfileGenerator.test_generate_multistage_dockerfile __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:291: in test_generate_multistage_dockerfile
    assert "AS builder" in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
___________________ TestContainerTestRunner.test_run_pytest ____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:347: in test_run_pytest
    assert results["total"] == 5
E   TypeError: 'NoneType' object is not subscriptable
_________________ TestContainerTestRunner.test_run_playwright __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:371: in test_run_playwright
    assert results["total"] == 3
E   TypeError: 'NoneType' object is not subscriptable
______________ TestContainerTestRunner.test_handle_test_failures _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_components.py:425: in test_handle_test_failures
    assert results["exit_code"] == 1
E   TypeError: 'NoneType' object is not subscriptable
______ TestDockerManagerCoverage.test_build_image_with_dockerfile_content ______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:79: in test_build_image_with_dockerfile_content
    success, logs = manager.build_image(Path("/tmp/project"), "test:latest", dockerfile=dockerfile_content)
E   TypeError: cannot unpack non-iterable NoneType object
_________ TestDockerManagerCoverage.test_build_image_unexpected_error __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:95: in test_build_image_unexpected_error
    with pytest.raises(DockerError, match="Failed to build image"):
E   Failed: DID NOT RAISE <class 'DHT.modules.docker_manager.DockerError'>
_________ TestDockerManagerCoverage.test_run_container_image_not_found _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:109: in test_run_container_image_not_found
    with pytest.raises(DockerError, match="Image not found"):
E   Failed: DID NOT RAISE <class 'DHT.modules.docker_manager.DockerError'>
____________ TestDockerManagerCoverage.test_run_container_api_error ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:123: in test_run_container_api_error
    with pytest.raises(DockerError, match="Failed to run container"):
E   Failed: DID NOT RAISE <class 'DHT.modules.docker_manager.DockerError'>
________ TestDockerManagerCoverage.test_run_container_unexpected_error _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:137: in test_run_container_unexpected_error
    with pytest.raises(DockerError, match="Unexpected error running container"):
E   Failed: DID NOT RAISE <class 'DHT.modules.docker_manager.DockerError'>
_____ TestDockerManagerCoverage.test_run_container_with_existing_container _____
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:159: in test_run_container_with_existing_container
    existing_container.stop.assert_called_once()
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/unittest/mock.py:908: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'stop' to have been called once. Called 0 times.
______ TestDockerfileGeneratorCoverage.test_generate_dockerfile_cli_type _______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:737: in test_generate_dockerfile_cli_type
    assert "FROM python:3.12-slim" in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
____ TestDockerfileGeneratorCoverage.test_generate_dockerfile_library_type _____
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:756: in test_generate_dockerfile_library_type
    assert "FROM python:3.10-slim" in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
_ TestDockerfileGeneratorCoverage.test_generate_dockerfile_with_tests_production _
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:776: in test_generate_dockerfile_with_tests_production
    assert "chromium" not in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
____ TestDockerfileGeneratorCoverage.test_generate_dockerfile_with_frontend ____
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:793: in test_generate_dockerfile_with_frontend
    assert "Install Node.js" in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
_____ TestContainerTestRunnerCoverage.test_run_all_tests_unknown_framework _____
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:842: in test_run_all_tests_unknown_framework
    assert fake_framework not in results
E   TypeError: argument of type 'NoneType' is not iterable
______ TestContainerTestRunnerCoverage.test_run_all_tests_all_frameworks _______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:862: in test_run_all_tests_all_frameworks
    assert TestFramework.PYTEST in results
E   TypeError: argument of type 'NoneType' is not iterable
__________ TestContainerTestRunnerCoverage.test_run_pytest_with_error __________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:877: in test_run_pytest_with_error
    assert results["error"] == "Container error"
E   TypeError: 'NoneType' object is not subscriptable
____ TestContainerTestRunnerCoverage.test_run_pytest_with_coverage_disabled ____
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:894: in test_run_pytest_with_coverage_disabled
    assert "--cov" not in call_args[0][1]
E   TypeError: 'NoneType' object is not subscriptable
______ TestContainerTestRunnerCoverage.test_run_pytest_with_specific_path ______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:909: in test_run_pytest_with_specific_path
    assert "tests/unit" in call_args[0][1]
E   TypeError: 'NoneType' object is not subscriptable
_____ TestContainerTestRunnerCoverage.test_run_playwright_install_failure ______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:925: in test_run_playwright_install_failure
    assert results["exit_code"] == 0
E   TypeError: 'NoneType' object is not subscriptable
________ TestContainerTestRunnerCoverage.test_run_playwright_with_error ________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:938: in test_run_playwright_with_error
    assert results["error"] == "Container error"
E   TypeError: 'NoneType' object is not subscriptable
________ TestContainerTestRunnerCoverage.test_run_puppeteer_with_error _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_coverage.py:952: in test_run_puppeteer_with_error
    assert results["error"] == "Container error"
E   TypeError: 'NoneType' object is not subscriptable
___________ TestFinalCoverage.test_run_all_tests_default_frameworks ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_final_coverage.py:40: in test_run_all_tests_default_frameworks
    assert TestFramework.PYTEST in results
E   TypeError: argument of type 'NoneType' is not iterable
_____________ TestFinalCoverage.test_run_playwright_with_test_path _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_final_coverage.py:55: in test_run_playwright_with_test_path
    call_args = mock_docker_manager.exec_command.call_args_list[1]
E   IndexError: list index out of range
_____________ TestFinalCoverage.test_run_puppeteer_with_test_path ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_final_coverage.py:71: in test_run_puppeteer_with_test_path
    assert "tests/puppeteer/test_ui.py" in call_args[0][1]
E   TypeError: 'NoneType' object is not subscriptable
______________ TestFinalCoverage.test_build_image_with_buildargs _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_final_coverage.py:101: in test_build_image_with_buildargs
    success, logs = manager.build_image(
E   TypeError: cannot unpack non-iterable NoneType object
_______ TestFinalCoverage.test_run_container_with_no_existing_container ________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_final_coverage.py:129: in test_run_container_with_no_existing_container
    assert container == new_container
E   AssertionError: assert None == <MagicMock name='from_env().containers.run()' id='4957136656'>
_____________ TestFinalCoverage.test_get_dockerfile_generates_new ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_docker_final_coverage.py:252: in test_get_dockerfile_generates_new
    assert "FROM python:3.11-slim" in dockerfile
E   TypeError: argument of type 'NoneType' is not iterable
___________________________ test_detect_active_venv ____________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment.py:33: in test_detect_active_venv
    result = run_bash_command(script_path, env={"VIRTUAL_ENV": "", "CONDA_PREFIX": ""})
/Users/emanuelesabetta/Code/DHT/dht/tests/helpers.py:141: in run_bash_command
    result = subprocess.run(["bash", "-c", command], cwd=cwd, env=env, check=True, capture_output=True, text=True)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:526: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['bash', '-c', '/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmpn62q9lji.sh']' returned non-zero exit status 127.
___________________________ test_env_command_output ____________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment.py:102: in test_env_command_output
    result = run_bash_command(script_path, env=mock_dht_env)
/Users/emanuelesabetta/Code/DHT/dht/tests/helpers.py:141: in run_bash_command
    result = subprocess.run(["bash", "-c", command], cwd=cwd, env=env, check=True, capture_output=True, text=True)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:526: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['bash', '-c', '/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmpdc6l_dp4.sh']' returned non-zero exit status 127.
______ TestEnvironmentConfigurator.test_analyze_environment_requirements _______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment_configurator.py:85: in test_analyze_environment_requirements
    assert "project_info" in analysis
E   TypeError: argument of type 'NoneType' is not iterable
_________ TestEnvironmentConfigurator.test_generate_environment_config _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment_configurator.py:111: in test_generate_environment_config
    assert isinstance(config, EnvironmentConfig)
E   assert False
E    +  where False = isinstance(None, EnvironmentConfig)
______ TestEnvironmentConfigurator.test_configure_development_environment ______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment_configurator.py:140: in test_configure_development_environment
    assert isinstance(result, ConfigurationResult)
E   assert False
E    +  where False = isinstance(None, ConfigurationResult)
______ TestEnvironmentConfigurator.test_environment_analyzer_integration _______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment_configurator.py:158: in test_environment_analyzer_integration
    mock_detect.assert_called_once()
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/unittest/mock.py:908: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected '_detect_tools_from_project' to have been called once. Called 0 times.
________ TestEnvironmentAnalyzer.test_analyze_environment_requirements _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment_configurator.py:213: in test_analyze_environment_requirements
    assert "project_info" in analysis
E   TypeError: argument of type 'NoneType' is not iterable
_______ TestEnvironmentInstaller.test_install_python_environment_with_uv _______
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_environment_configurator.py:265: in test_install_python_environment_with_uv
    assert success
E   assert None
_________________________ test_guardian_command_status _________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_guardian_command.py:70: in test_guardian_command_status
    result = run_bash_command(script_path)
/Users/emanuelesabetta/Code/DHT/dht/tests/helpers.py:141: in run_bash_command
    result = subprocess.run(["bash", "-c", command], cwd=cwd, env=env, check=True, capture_output=True, text=True)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:526: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['bash', '-c', '/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmpv5ix4097.sh']' returned non-zero exit status 127.
_________________________ test_guardian_command_start __________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_guardian_command.py:176: in test_guardian_command_start
    result = run_bash_command(script_path)
/Users/emanuelesabetta/Code/DHT/dht/tests/helpers.py:141: in run_bash_command
    result = subprocess.run(["bash", "-c", command], cwd=cwd, env=env, check=True, capture_output=True, text=True)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:526: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['bash', '-c', '/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmp7sxh4dip.sh']' returned non-zero exit status 127.
__________________________ test_guardian_command_stop __________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_guardian_command.py:259: in test_guardian_command_stop
    result = run_bash_command(script_path)
/Users/emanuelesabetta/Code/DHT/dht/tests/helpers.py:141: in run_bash_command
    result = subprocess.run(["bash", "-c", command], cwd=cwd, env=env, check=True, capture_output=True, text=True)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:526: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['bash', '-c', '/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmp3u5smk6_.sh']' returned non-zero exit status 127.
______________________________ test_guardian_help ______________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_guardian_command.py:311: in test_guardian_help
    result = run_bash_command(script_path)
/Users/emanuelesabetta/Code/DHT/dht/tests/helpers.py:141: in run_bash_command
    result = subprocess.run(["bash", "-c", command], cwd=cwd, env=env, check=True, capture_output=True, text=True)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:526: in run
    raise CalledProcessError(retcode, process.args,
E   subprocess.CalledProcessError: Command '['bash', '-c', '/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/tmp0e20kzg6.sh']' returned non-zero exit status 127.
____________ TestProjectAnalyzer.test_analyze_simple_python_project ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_analyzer.py:332: in test_analyze_simple_python_project
    assert result["languages"]["python"]["file_count"] == 2
E   KeyError: 'languages'
_______________ TestProjectAnalyzer.test_parallel_file_analysis ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_analyzer.py:512: in test_parallel_file_analysis
    with patch("modules.project_analyzer.PythonParser") as mock_parser:
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/unittest/mock.py:1431: in __enter__
    self.target = self.getter()
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/unittest/mock.py:1618: in <lambda>
    getter = lambda: _importer(target)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/unittest/mock.py:1257: in _importer
    thing = __import__(import_path)
E   ModuleNotFoundError: No module named 'modules'
_______________ TestProjectHeuristics.test_detect_django_project _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:125: in test_detect_django_project
    assert result["primary_type"] == "django"
E   TypeError: 'NoneType' object is not subscriptable
_______________ TestProjectHeuristics.test_detect_flask_project ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:138: in test_detect_flask_project
    assert result["primary_type"] == "flask"
E   TypeError: 'NoneType' object is not subscriptable
______________ TestProjectHeuristics.test_detect_fastapi_project _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:151: in test_detect_fastapi_project
    assert result["primary_type"] == "fastapi"
E   TypeError: 'NoneType' object is not subscriptable
____________ TestProjectHeuristics.test_detect_data_science_project ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:163: in test_detect_data_science_project
    assert result["category"] == "data_science"
E   TypeError: 'NoneType' object is not subscriptable
______________ TestProjectHeuristics.test_detect_generic_project _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:177: in test_detect_generic_project
    assert result["primary_type"] == "generic"
E   TypeError: 'NoneType' object is not subscriptable
_____________ TestProjectHeuristics.test_infer_system_dependencies _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:185: in test_infer_system_dependencies
    assert "inferred_packages" in result
E   TypeError: argument of type 'NoneType' is not iterable
_______________ TestProjectHeuristics.test_infer_ml_dependencies _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:204: in test_infer_ml_dependencies
    assert "libopenblas-dev" in result["inferred_packages"]
E   TypeError: 'NoneType' object is not subscriptable
___________ TestProjectHeuristics.test_suggest_django_configurations ___________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:218: in test_suggest_django_configurations
    assert "recommended_files" in suggestions
E   TypeError: argument of type 'NoneType' is not iterable
__________ TestProjectHeuristics.test_suggest_fastapi_configurations ___________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:236: in test_suggest_fastapi_configurations
    assert ".env.example" in suggestions["recommended_files"]
E   TypeError: 'NoneType' object is not subscriptable
_______________ TestProjectHeuristics.test_analyze_code_quality ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:247: in test_analyze_code_quality
    assert "has_tests" in result
E   TypeError: argument of type 'NoneType' is not iterable
_________ TestProjectHeuristics.test_analyze_code_quality_with_configs _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:271: in test_analyze_code_quality_with_configs
    assert result["has_tests"] is True
E   TypeError: 'NoneType' object is not subscriptable
______________ TestProjectHeuristics.test_complete_analysis_flow _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:280: in test_complete_analysis_flow
    assert "project_type" in result
E   TypeError: argument of type 'NoneType' is not iterable
_________ TestProjectHeuristics.test_project_characteristics_detection _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:309: in test_project_characteristics_detection
    characteristics = result["characteristics"]
E   TypeError: 'NoneType' object is not subscriptable
______________ TestProjectHeuristics.test_empty_project_handling _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_heuristics.py:328: in test_empty_project_handling
    assert project_type["primary_type"] == "generic"
E   TypeError: 'NoneType' object is not subscriptable
______________ TestProjectTypeDetector.test_detect_django_project ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:214: in test_detect_django_project
    print(f"  Type: {result.type}")
E   AttributeError: 'NoneType' object has no attribute 'type'
----------------------------- Captured stdout call -----------------------------

Django project path: /private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/test_detect_django_project0/django_project
Files created:
  - requirements.txt
  - manage.py
  - mysite/settings.py
  - mysite/urls.py
  - myapp/models.py

Analysis result:
_____________ TestProjectTypeDetector.test_detect_fastapi_project ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:231: in test_detect_fastapi_project
    assert result.type == ProjectType.FASTAPI
E   AttributeError: 'NoneType' object has no attribute 'type'
________________ TestProjectTypeDetector.test_detect_ml_project ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:241: in test_detect_ml_project
    assert result.type == ProjectType.DATA_SCIENCE
E   AttributeError: 'NoneType' object has no attribute 'type'
_____________ TestProjectTypeDetector.test_generate_django_config ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:254: in test_generate_django_config
    assert "pyproject.toml" in configs
E   TypeError: argument of type 'NoneType' is not iterable
_____________ TestProjectTypeDetector.test_generate_fastapi_config _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:277: in test_generate_fastapi_config
    assert "Dockerfile" in configs
E   TypeError: argument of type 'NoneType' is not iterable
_______________ TestProjectTypeDetector.test_generate_ml_config ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:298: in test_generate_ml_config
    assert ".dvc/config" in configs
E   TypeError: argument of type 'NoneType' is not iterable
______________ TestProjectTypeDetector.test_detect_hybrid_project ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:347: in test_detect_hybrid_project
    assert result.type == ProjectType.HYBRID
E   AttributeError: 'NoneType' object has no attribute 'type'
_______________ TestProjectTypeDetector.test_migration_detection _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:371: in test_migration_detection
    assert result.uses_poetry
E   AttributeError: 'NoneType' object has no attribute 'uses_poetry'
______________ TestProjectTypeDetector.test_setup_recommendations ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:380: in test_setup_recommendations
    assert "database" in recommendations
E   TypeError: argument of type 'NoneType' is not iterable
__________________ TestProjectTypeDetector.test_cli_detection __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:421: in test_cli_detection
    assert result.type == ProjectType.CLI
E   AttributeError: 'NoneType' object has no attribute 'type'
________________ TestProjectTypeDetector.test_library_detection ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:449: in test_library_detection
    assert result.type == ProjectType.LIBRARY
E   AttributeError: 'NoneType' object has no attribute 'type'
____________ TestProjectTypeDetector.test_minimal_project_handling _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:463: in test_minimal_project_handling
    assert result.type == ProjectType.GENERIC
E   AttributeError: 'NoneType' object has no attribute 'type'
_______________ TestProjectTypeDetector.test_confidence_scoring ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:475: in test_confidence_scoring
    assert result.confidence >= 0.9
E   AttributeError: 'NoneType' object has no attribute 'confidence'
________________ TestProjectTypeDetector.test_config_validation ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:495: in test_config_validation
    assert validation.is_valid
E   AttributeError: 'NoneType' object has no attribute 'is_valid'
______________ TestProjectTypeDetector.test_incremental_detection ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:507: in test_incremental_detection
    assert result1.type == ProjectType.GENERIC
E   AttributeError: 'NoneType' object has no attribute 'type'
_______________ TestFrameworkConfig.test_django_framework_config _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:530: in test_django_framework_config
    assert config.name == "Django"
E   AttributeError: 'dict' object has no attribute 'name'
______________ TestFrameworkConfig.test_fastapi_framework_config _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:540: in test_fastapi_framework_config
    assert config.name == "FastAPI"
E   AttributeError: 'dict' object has no attribute 'name'
_________________ TestFrameworkConfig.test_config_inheritance __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_project_type_detector.py:552: in test_config_inheritance
    django_test_deps = set(django_config.test_dependencies)
E   AttributeError: 'dict' object has no attribute 'test_dependencies'
_________________ TestPythonEfficiency.test_file_sizes_modular _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_python_efficiency.py:61: in test_file_sizes_modular
    assert len(oversized_files) == 0, f"These Python files exceed the 10KB limit: {oversized_files}"
E   AssertionError: These Python files exceed the 10KB limit: ['environment_validator.py: 13.0KB', 'environment_configurator.py: 16.2KB', 'dhtl_guardian_prefect.py: 11.2KB', 'project_analyzer.py: 14.1KB', 'act_integration.py: 18.8KB', 'environment_reproducer.py: 17.8KB', 'dhtl_guardian_command.py: 10.8KB', 'dhtl_utils.py: 12.5KB', 'command_runner.py: 10.1KB', 'guardian_prefect.py: 18.4KB', 'act_container_setup.py: 11.1KB', 'cli_commands_utilities.py: 10.4KB', 'dockerfile_generator.py: 17.9KB', 'command_dispatcher.py: 17.5KB', 'environment_installer.py: 10.4KB', 'dhtl_commands_setup.py: 11.8KB', 'dhtl_docker.py: 16.3KB', 'project_type_detection_helpers.py: 13.8KB', 'lock_file_manager.py: 10.5KB', 'dhtl_version.py: 11.7KB', 'dhtl_error_handling.py: 16.6KB', 'dhtl_commands_workflows.py: 12.5KB', 'subprocess_utils.py: 17.7KB', 'docker_manager.py: 13.4KB', 'environment_analyzer.py: 11.4KB', 'command_registry.py: 11.9KB', 'system_taxonomy.py: 13.6KB', 'universal_build_detector.py: 15.4KB', 'bash_parser_tree_sitter.py: 10.8KB', 'python_parser.py: 18.9KB', 'pyproject_parser.py: 13.0KB', 'workspace_base.py: 11.1KB', 'database_config_tasks.py: 12.9KB', 'project_generator_flow.py: 11.8KB', 'config_generation_tasks.py: 16.2KB', 'project_setup_flow.py: 10.1KB', 'testing_config_tasks.py: 12.9KB', 'restore_flow.py: 13.2KB']
E   assert 38 == 0
E    +  where 38 = len(['environment_validator.py: 13.0KB', 'environment_configurator.py: 16.2KB', 'dhtl_guardian_prefect.py: 11.2KB', 'project_analyzer.py: 14.1KB', 'act_integration.py: 18.8KB', 'environment_reproducer.py: 17.8KB', ...])
----------------------------- Captured stdout call -----------------------------

Python files exceeding 10KB limit:
  environment_validator.py: 13.0KB
  environment_configurator.py: 16.2KB
  dhtl_guardian_prefect.py: 11.2KB
  project_analyzer.py: 14.1KB
  act_integration.py: 18.8KB
  environment_reproducer.py: 17.8KB
  dhtl_guardian_command.py: 10.8KB
  dhtl_utils.py: 12.5KB
  command_runner.py: 10.1KB
  guardian_prefect.py: 18.4KB
  act_container_setup.py: 11.1KB
  cli_commands_utilities.py: 10.4KB
  dockerfile_generator.py: 17.9KB
  command_dispatcher.py: 17.5KB
  environment_installer.py: 10.4KB
  dhtl_commands_setup.py: 11.8KB
  dhtl_docker.py: 16.3KB
  project_type_detection_helpers.py: 13.8KB
  lock_file_manager.py: 10.5KB
  dhtl_version.py: 11.7KB
  dhtl_error_handling.py: 16.6KB
  dhtl_commands_workflows.py: 12.5KB
  subprocess_utils.py: 17.7KB
  docker_manager.py: 13.4KB
  environment_analyzer.py: 11.4KB
  command_registry.py: 11.9KB
  system_taxonomy.py: 13.6KB
  universal_build_detector.py: 15.4KB
  bash_parser_tree_sitter.py: 10.8KB
  python_parser.py: 18.9KB
  pyproject_parser.py: 13.0KB
  workspace_base.py: 11.1KB
  database_config_tasks.py: 12.9KB
  project_generator_flow.py: 11.8KB
  config_generation_tasks.py: 16.2KB
  project_setup_flow.py: 10.1KB
  testing_config_tasks.py: 12.9KB
  restore_flow.py: 13.2KB
_____________ TestPythonEfficiency.test_files_have_proper_headers ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_python_efficiency.py:77: in test_files_have_proper_headers
    assert "coding" in second_line or "utf-8" in second_line, (
E   AssertionError: diagnostic_parser_utils.py should have encoding declaration on second line
E   assert ('coding' in '"""' or 'utf-8' in '"""')
_______________ TestPythonEfficiency.test_files_have_docstrings ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_python_efficiency.py:127: in test_files_have_docstrings
    assert docstring_ratio >= 0.7, (
E   AssertionError: Only 61.7% of Python files have docstrings (expected >70%)
E   assert 0.6174863387978142 >= 0.7
----------------------------- Captured stdout call -----------------------------

Files without module docstrings:
  - diagnostic_reporter_v2.py
  - dhtconfig_dependency_extractor.py
  - environment_validator.py
  - environment_configurator.py
  - dhtconfig_platform_utils.py
  - environment_reproduction_steps.py
  - dhtl_commands_build.py
  - project_file_generators.py
  - uv_script_tasks.py
  - project_capture_utils.py
  - environment_config_helpers.py
  - dhtl_commands_deploy.py
  - dhtconfig_cli.py
  - environment_snapshot_models.py
  - environment_verification_utils.py
  - tool_version_manager.py
  - project_analyzer.py
  - dhtl_commands_init.py
  - uv_manager_workflow.py
  - environment_reproducer.py
  - dhtconfig_models.py
  - dhtconfig_build_extractor.py
  - dhtl_utils.py
  - dhtconfig_tool_extractor.py
  - uv_manager_utils.py
  - reproduction_artifacts.py
  - platform_normalizer.py
  - environment_config_models.py
  - system_taxonomy_data2.py
  - uv_prefect_tasks.py
  - environment_installer.py
  - dhtl_commands_setup.py
  - environment_capture_utils.py
  - act_linter.py
  - act_container_manager.py
  - act_integration_models.py
  - dhtl_commands_sync.py
  - dhtconfig.py
  - config_file_generators.py
  - uv_dependency_tasks.py
  - uv_python_tasks.py
  - uv_manager_script.py
  - lock_file_manager.py
  - uv_manager_deps.py
  - act_workflow_manager.py
  - uv_build_tasks.py
  - uv_pip_tasks.py
  - dhtl_commands.py
  - uv_manager_python.py
  - system_taxonomy_constants.py
  - dhtconfig_env_extractor.py
  - dhtconfig_io_utils.py
  - subprocess_utils.py
  - common_utils.py
  - environment_analyzer.py
  - uv_manager_venv.py
  - uv_environment_tasks.py
  - dhtconfig_validation_utils.py
  - reproduction_flow_utils.py
  - uv_task_models.py
  - uv_task_utils.py
  - act_setup_manager.py
  - dependencies_installer.py
  - system_taxonomy_data.py
  - environment_snapshot_io.py
  - bash_parser_utils.py
  - bash_parser_tree_sitter.py
  - bash_parser_regex.py
  - bash_parser_models.py
  - bash_parser.py
_____________ TestPythonEfficiency.test_code_complexity_reasonable _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_python_efficiency.py:312: in test_code_complexity_reasonable
    assert len(complex_functions) < 5, f"Too many complex functions found: {len(complex_functions)}"
E   AssertionError: Too many complex functions found: 153
E   assert 153 < 5
E    +  where 153 = len(['diagnostic_tool_collector.py:collect_tool_info() (51 lines)', 'diagnostic_tool_collector.py:collect_all_tools() (77 ...'setup_tree_sitter.py:build_language_library() (78 lines)', 'setup_tree_sitter.py:test_bash_parsing() (51 lines)', ...])
----------------------------- Captured stdout call -----------------------------

Complex functions (>50 lines):
  - diagnostic_tool_collector.py:collect_tool_info() (51 lines)
  - diagnostic_tool_collector.py:collect_all_tools() (77 lines)
  - diagnostic_system_info.py:collect_psutil_info() (61 lines)
  - diagnostic_reporter_v2.py:parse_args() (73 lines)
  - setup_tree_sitter.py:build_language_library() (78 lines)
  - setup_tree_sitter.py:test_bash_parsing() (51 lines)
  - dhtconfig_dependency_extractor.py:extract_dependencies() (61 lines)
  - environment_validator.py:verify_tools() (64 lines)
  - project_heuristics_quality.py:suggest_configurations() (111 lines)
  - project_heuristics_quality.py:analyze_code_quality() (73 lines)
  - environment_configurator.py:generate_environment_config() (83 lines)
  - environment_configurator.py:configure_development_environment() (93 lines)
  - dhtl_commands_build.py:build() (114 lines)
  - dhtl_guardian_prefect.py:run() (81 lines)
  - project_file_generators.py:generate_gitignore() (158 lines)
  - project_file_generators.py:generate_github_workflow() (57 lines)
  - dhtl_test.py:test_dht_command() (85 lines)
  - dhtl_test.py:verify_dht_command() (137 lines)
  - environment_config_helpers.py:create_configuration_artifacts() (71 lines)
  - dhtl_commands_deploy.py:deploy_project_in_container() (174 lines)
  - dhtconfig_cli.py:main() (89 lines)
  - dhtl_github.py:clone_command() (78 lines)
  - dhtl_github.py:fork_command() (78 lines)
  - project_analyzer.py:__init__() (53 lines)
  - project_analyzer.py:analyze_project() (55 lines)
  - project_analyzer.py:_analyze_python_dependencies() (64 lines)
  - project_analyzer.py:_analyze_python_files() (70 lines)
  - dhtl_commands_5.py:coverage_command() (55 lines)
  - prefect_compat.py:_patch_missing_modules() (74 lines)
  - dhtl_commands_init.py:init() (152 lines)
  - build_command_universal.py:run_build_commands() (54 lines)
  - build_command_universal.py:universal_build_flow() (115 lines)
  - act_integration.py:run_workflow() (62 lines)
  - act_integration.py:act_workflow_flow() (148 lines)
  - act_integration.py:main() (56 lines)
  - project_type_detector.py:analyze() (77 lines)
  - dhtl_commands_1.py:restore_command() (178 lines)
  - environment_reproducer.py:_capture_environment_snapshot_impl() (53 lines)
  - environment_reproducer.py:_reproduce_environment_impl() (56 lines)
  - environment_reproducer.py:_create_reproducible_environment_impl() (93 lines)
  - dhtl_guardian_command.py:guardian_run() (59 lines)
  - dhtl_guardian_command.py:guardian_batch() (77 lines)
  - dhtl_guardian_command.py:guardian_config() (55 lines)
  - dhtl_utils.py:_check_tools() (86 lines)
  - dhtl_utils.py:_run_individual_linters() (90 lines)
  - command_runner.py:execute_command() (54 lines)
  - command_runner.py:run_command_flow() (61 lines)
  - guardian_prefect.py:run_command_with_limits() (69 lines)
  - guardian_prefect.py:monitor_process() (69 lines)
  - guardian_prefect.py:run_with_guardian() (64 lines)
  - guardian_prefect.py:guardian_sequential_flow() (59 lines)
  - guardian_prefect.py:guardian_batch_flow() (70 lines)
  - act_container_setup.py:run_act() (85 lines)
  - uv_manager_utils.py:run_uv_command() (60 lines)
  - dockerfile_generator.py:_init_templates() (86 lines)
  - dockerfile_generator.py:detect_project_type() (73 lines)
  - dockerfile_generator.py:generate_dockerfile() (65 lines)
  - command_dispatcher.py:dispatch() (137 lines)
  - command_dispatcher.py:_parse_command_args() (138 lines)
  - setup_recommendations.py:get_setup_recommendations() (69 lines)
  - config_generators.py:generate_django_configs() (65 lines)
  - config_generators.py:generate_fastapi_configs() (78 lines)
  - config_generators.py:generate_library_configs() (56 lines)
  - config_generators.py:generate_common_configs() (110 lines)
  - environment_installer.py:install_python_environment() (59 lines)
  - environment_installer.py:install_system_packages() (55 lines)
  - dhtl_commands_setup.py:setup() (200 lines)
  - dhtl_diagnostics.py:diagnostics_command() (126 lines)
  - act_linter.py:lint_with_docker() (56 lines)
  - dhtl_docker.py:docker_operations_flow() (95 lines)
  - dhtl_docker.py:build_image() (62 lines)
  - project_type_detection_helpers.py:calculate_confidence_boost() (75 lines)
  - project_type_detection_helpers.py:detect_project_type() (86 lines)
  - uv_manager_improvements.py:run_command_with_timeout() (53 lines)
  - act_container_manager.py:setup_container_environment() (59 lines)
  - dhtl_commands_7.py:publish_command() (104 lines)
  - project_heuristics_analyzer.py:detect_project_type() (88 lines)
  - project_heuristics_analyzer.py:_detect_characteristics() (56 lines)
  - dhtl_commands_sync.py:sync() (127 lines)
  - dhtconfig.py:generate_from_project() (57 lines)
  - config_file_generators.py:generate_black_config() (68 lines)
  - config_file_generators.py:generate_precommit_config() (58 lines)
  - utils.py:_run_formatters() (57 lines)
  - dhtl_commands_act.py:act_command() (127 lines)
  - uv_dependency_tasks.py:install_dependencies() (60 lines)
  - uv_dependency_tasks.py:add_dependency() (60 lines)
  - uv_python_tasks.py:detect_python_version() (66 lines)
  - uv_python_tasks.py:ensure_python_version() (58 lines)
  - dhtl_commands_6.py:commit_command() (108 lines)
  - environment_utils.py:get_environment_info() (70 lines)
  - environment_utils.py:env_command() (51 lines)
  - dhtl_project_templates.py:get_python_gitignore() (69 lines)
  - dhtl_version.py:tag_command() (93 lines)
  - dhtl_version.py:bump_command() (130 lines)
  - dhtl_version.py:update_version_in_files() (52 lines)
  - dhtl_commands_2.py:test_command() (56 lines)
  - dhtl_init.py:init_command() (88 lines)
  - uv_pip_tasks.py:pip_install_project() (78 lines)
  - dhtl_commands_workflows.py:create_python_workflow() (58 lines)
  - dhtl_commands_workflows.py:create_docker_workflow() (55 lines)
  - subprocess_utils.py:run_subprocess() (259 lines)
  - docker_manager.py:build_image() (58 lines)
  - docker_manager.py:run_container() (61 lines)
  - uv_environment_tasks.py:create_virtual_environment() (57 lines)
  - uv_environment_tasks.py:setup_project_environment() (89 lines)
  - reproduction_flow_utils.py:create_reproducible_environment() (93 lines)
  - command_registry.py:_register_all_commands() (111 lines)
  - act_vs_actionlint_demo.py:demo_actionlint_vs_act() (95 lines)
  - system_taxonomy.py:get_tool_fields() (66 lines)
  - act_setup_manager.py:check_act_available() (60 lines)
  - dhtl_commands_8.py:clean_command() (129 lines)
  - dependencies_installer.py:install_project_dependencies() (68 lines)
  - act_command_builder.py:get_act_command() (74 lines)
  - universal_build_detector.py:_python_pyproject_config() (107 lines)
  - package_json_parser.py:parse_file() (97 lines)
  - requirements_parser.py:parse_file() (51 lines)
  - bash_parser_regex.py:extract_functions() (53 lines)
  - python_parser.py:_extract_dependencies() (51 lines)
  - pyproject_parser.py:_parse_poetry() (51 lines)
  - workspace_command.py:execute() (55 lines)
  - upgrade_command.py:execute() (57 lines)
  - doc_command.py:_build_sphinx() (56 lines)
  - check_command.py:execute() (80 lines)
  - workspace_base.py:execute_in_members() (76 lines)
  - remove_command.py:execute() (53 lines)
  - workspaces_command.py:execute() (64 lines)
  - install_command.py:execute() (53 lines)
  - bin_command.py:execute() (54 lines)
  - add_command.py:execute() (78 lines)
  - database_config_tasks.py:generate_alembic_config_task() (138 lines)
  - database_config_tasks.py:generate_sqlalchemy_config_task() (109 lines)
  - database_config_tasks.py:generate_redis_config_task() (157 lines)
  - database_config_tasks.py:generate_mongodb_config_task() (84 lines)
  - project_generator_flow.py:generate_project_flow() (279 lines)
  - config_generation_tasks.py:generate_django_settings_task() (75 lines)
  - config_generation_tasks.py:generate_fastapi_main_task() (52 lines)
  - config_generation_tasks.py:generate_dockerfile_task() (131 lines)
  - config_generation_tasks.py:generate_docker_compose_task() (105 lines)
  - config_generation_tasks.py:generate_env_file_task() (80 lines)
  - config_generation_tasks.py:generate_makefile_task() (81 lines)
  - config_generation_tasks.py:generate_github_workflow_task() (120 lines)
  - project_init_flow.py:initialize_project_flow() (172 lines)
  - project_setup_flow.py:upgrade_gitignore_task() (62 lines)
  - project_setup_flow.py:setup_project_flow() (96 lines)
  - testing_config_tasks.py:generate_pytest_config_task() (172 lines)
  - testing_config_tasks.py:generate_factory_boy_factories_task() (74 lines)
  - testing_config_tasks.py:generate_coverage_config_task() (67 lines)
  - testing_config_tasks.py:generate_tox_config_task() (75 lines)
  - testing_config_tasks.py:generate_hypothesis_strategies_task() (81 lines)
  - template_tasks.py:generate_pyproject_toml_task() (93 lines)
  - template_tasks.py:generate_readme_task() (100 lines)
  - restore_flow.py:install_dependencies() (73 lines)
  - restore_flow.py:restore_dependencies_flow() (72 lines)
___________________________ test_prefect_integration ___________________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_python_migration_completeness.py:164: in test_prefect_integration
    assert result == "test"
E   AssertionError: assert None == 'test'
_____________ TestPythonArchitecture.test_python_modules_structure _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_shell_architecture.py:111: in test_python_modules_structure
    assert module_path.exists(), f"Essential Python module missing: {module}"
E   AssertionError: Essential Python module missing: dhtl_environment_1.py
E   assert False
E    +  where False = exists()
E    +    where exists = PosixPath('/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/dhtl_environment_1.py').exists
________________ TestModularity.test_python_modules_are_focused ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_shell_architecture.py:239: in test_python_modules_are_focused
    assert not truly_oversized, f"Oversized modules found (>11KB): {truly_oversized}"
E   AssertionError: Oversized modules found (>11KB): [('environment_validator.py', 13283), ('dhtl_guardian_prefect.py', 11425), ('act_integration.py', 19196), ('dhtl_guardian_command.py', 11038), ('dhtl_utils.py', 12787), ('guardian_prefect.py', 18868), ('act_container_setup.py', 11326), ('dockerfile_generator.py', 18369), ('command_dispatcher.py', 17941), ('dhtl_commands_setup.py', 12052), ('dhtl_docker.py', 16717), ('project_type_detection_helpers.py', 14124), ('dhtl_version.py', 11966), ('container_test_runner.py', 14417), ('dhtl_error_handling.py', 16955), ('dhtl_commands_workflows.py', 12801), ('subprocess_utils.py', 18123), ('docker_manager.py', 13697), ('environment_analyzer.py', 11693), ('command_registry.py', 12171), ('system_taxonomy.py', 13944), ('universal_build_detector.py', 15741)]
E   assert not [('environment_validator.py', 13283), ('dhtl_guardian_prefect.py', 11425), ('act_integration.py', 19196), ('dhtl_guardian_command.py', 11038), ('dhtl_utils.py', 12787), ('guardian_prefect.py', 18868), ...]
_______________ TestModularity.test_no_duplicate_implementations _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_shell_architecture.py:258: in test_no_duplicate_implementations
    assert len(function_lines) < 10, "Orchestrator should coordinate, not implement everything"
E   AssertionError: Orchestrator should coordinate, not implement everything
E   assert 15 < 10
E    +  where 15 = len(['    def initialize(self) -> bool:', '    def _load_core_modules(self) -> None:', '    def _initialize_prefect(self) ...def _verify_environment(self) -> None:', '    def get_command(self, command_name: str) -> dict[str, Any] | None:', ...])
______________ TestSubprocessUtils.test_interrupt_signal_handling ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_subprocess_utils.py:98: in test_interrupt_signal_handling
    run_subprocess(["python", "-c", "import time; time.sleep(2)"])
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/subprocess_utils.py:334: in run_subprocess
    stdout, stderr = process.communicate(input=comm_input, timeout=timeout)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:1154: in communicate
    stdout, stderr = self._communicate(input, endtime, timeout)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/subprocess.py:2021: in _communicate
    ready = selector.select(timeout)
/Users/emanuelesabetta/.local/share/uv/python/cpython-3.10.17-macos-aarch64-none/lib/python3.10/selectors.py:416: in select
    fd_event_list = self._selector.poll(timeout)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/dhtl_error_handling.py:438: in _signal_handler
    self.handle_exit(130 if signum == signal.SIGINT else 1, "Exiting due to interrupt")
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/dhtl_error_handling.py:393: in handle_exit
    sys.exit(exit_code)
E   SystemExit: 130
----------------------------- Captured stderr call -----------------------------
❌ ERROR: Exiting due to interrupt
____________________ TestUVManager.test_run_command_failure ____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:217: in test_run_command_failure
    mock_run.side_effect = ProcessExecutionError(
E   TypeError: ProcessExecutionError.__init__() missing 2 required positional arguments: 'message' and 'command'
___________ TestUVManager.test_ensure_python_version_install_needed ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:313: in test_ensure_python_version_install_needed
    assert python_path == Path("/home/user/.local/python3.11")
E   AssertionError: assert None == PosixPath('/home/user/.local/python3.11')
E    +  where PosixPath('/home/user/.local/python3.11') = Path('/home/user/.local/python3.11')
____________ TestUVManager.test_ensure_python_version_install_fails ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:324: in test_ensure_python_version_install_fails
    with pytest.raises(PythonVersionError, match="Failed to install"):
E   Failed: DID NOT RAISE <class 'DHT.modules.uv_manager_exceptions.PythonVersionError'>
____________________ TestUVManager.test_create_venv_default ____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:337: in test_create_venv_default
    assert venv_path == project_dir / ".venv"
E   AssertionError: assert None == (PosixPath('/private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/test_create_venv_default0/project') / '.venv')
______________ TestUVManager.test_create_venv_with_python_version ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:350: in test_create_venv_with_python_version
    assert venv_path == project_dir / ".venv"
E   AssertionError: assert None == (PosixPath('/private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/test_create_venv_with_python_v0/project') / '.venv')
__________________ TestUVManager.test_create_venv_custom_path __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:364: in test_create_venv_custom_path
    assert venv_path == custom_venv
E   AssertionError: assert None == PosixPath('/private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/test_create_venv_custom_path0/project/my_venv')
______________ TestUVManager.test_install_dependencies_with_lock _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:372: in test_install_dependencies_with_lock
    result = uv_manager.install_dependencies(project_with_lock)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:141: in install_dependencies
    dict[str, Any], self.deps_manager.install_dependencies(project_path, requirements_file, dev, extras)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:71: in install_dependencies
    return self._sync_dependencies(project_path, dev=dev, extras=extras)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:103: in _sync_dependencies
    result = self.run_command(args, cwd=project_path)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_utils.py:183: in run_uv_command
    raise UVNotFoundError("UV is not available. Please install UV first.")
E   DHT.modules.uv_manager_exceptions.UVNotFoundError: UV is not available. Please install UV first.
___________ TestUVManager.test_install_dependencies_requirements_txt ___________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:384: in test_install_dependencies_requirements_txt
    result = uv_manager.install_dependencies(project_with_requirements, requirements_file=requirements_file)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:141: in install_dependencies
    dict[str, Any], self.deps_manager.install_dependencies(project_path, requirements_file, dev, extras)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:75: in install_dependencies
    return self._pip_install_requirements(project_path, requirements_file)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:115: in _pip_install_requirements
    result = self.run_command(args, cwd=project_path)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_utils.py:183: in run_uv_command
    raise UVNotFoundError("UV is not available. Please install UV first.")
E   DHT.modules.uv_manager_exceptions.UVNotFoundError: UV is not available. Please install UV first.
______________ TestUVManager.test_install_dependencies_pyproject _______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:397: in test_install_dependencies_pyproject
    result = uv_manager.install_dependencies(project_with_pyproject, dev=True)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:141: in install_dependencies
    dict[str, Any], self.deps_manager.install_dependencies(project_path, requirements_file, dev, extras)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:80: in install_dependencies
    return self._pip_install_project(project_path, dev=dev, extras=extras)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:137: in _pip_install_project
    result = self.run_command(args, cwd=project_path)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_utils.py:183: in run_uv_command
    raise UVNotFoundError("UV is not available. Please install UV first.")
E   DHT.modules.uv_manager_exceptions.UVNotFoundError: UV is not available. Please install UV first.
____________________ TestUVManager.test_generate_lock_file _____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:410: in test_generate_lock_file
    assert lock_path == project_with_pyproject / "uv.lock"
E   AssertionError: assert None == (PosixPath('/private/var/folders/j5/4vmcr_496wsbmt3dl3k8f11r0000gn/T/pytest-of-emanuelesabetta/pytest-195/test_generate_lock_file0/test_project') / 'uv.lock')
________________ TestUVManager.test_generate_lock_file_failure _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:418: in test_generate_lock_file_failure
    with pytest.raises(DependencyError, match="Failed to generate lock"):
E   Failed: DID NOT RAISE <class 'DHT.modules.uv_manager_exceptions.DependencyError'>
______________________ TestUVManager.test_add_dependency _______________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:429: in test_add_dependency
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
_____________________ TestUVManager.test_remove_dependency _____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:442: in test_remove_dependency
    result = uv_manager.remove_dependency(project_with_pyproject, "requests")
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:156: in remove_dependency
    return cast(dict[str, Any], self.deps_manager.remove_dependency(project_path, package))
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_deps.py:243: in remove_dependency
    result = self.run_command(args, cwd=project_path)
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager.py:110: in run_command
    run_uv_command(self.uv_path, args, cwd=cwd, capture_output=capture_output, check=check, timeout=timeout),
/Users/emanuelesabetta/Code/DHT/dht/src/DHT/modules/uv_manager_utils.py:183: in run_uv_command
    raise UVNotFoundError("UV is not available. Please install UV first.")
E   DHT.modules.uv_manager_exceptions.UVNotFoundError: UV is not available. Please install UV first.
______________________ TestUVManager.test_check_outdated _______________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:463: in test_check_outdated
    assert len(outdated) == 1
E   assert 0 == 1
E    +  where 0 = len([])
______________________ TestUVManager.test_run_script_file ______________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:478: in test_run_script_file
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
_____________________ TestUVManager.test_run_script_module _____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:490: in test_run_script_module
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
________________ TestUVManager.test_setup_project_complete_flow ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:508: in test_setup_project_complete_flow
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
________________ TestUVManager.test_setup_project_with_failures ________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:532: in test_setup_project_with_failures
    assert "success" in result
E   TypeError: argument of type 'NoneType' is not iterable
___________________ TestUVIntegration.test_real_python_list ____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_manager.py:560: in test_real_python_list
    assert isinstance(versions, list)
E   assert False
E    +  where False = isinstance(None, list)
______________ TestUVPrefectTasks.test_check_uv_available_success ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:90: in test_check_uv_available_success
    assert result["available"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:06:24.089 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
----------------------------- Captured stdout call -----------------------------
Mock find_uv_executable configured to return: /usr/local/bin/uv
--------------------------- Captured stderr teardown ---------------------------
11:06:28.769 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
_____________ TestUVPrefectTasks.test_check_uv_available_not_found _____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:101: in test_check_uv_available_not_found
    assert result["available"] is False
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:06:30.120 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:06:35.017 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
___________ TestUVPrefectTasks.test_detect_python_version_from_file ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:112: in test_detect_python_version_from_file
    assert version == "3.11.6"
E   AssertionError: assert None == '3.11.6'
---------------------------- Captured stderr setup -----------------------------
11:06:36.334 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:06:41.133 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
_________ TestUVPrefectTasks.test_detect_python_version_from_pyproject _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:126: in test_detect_python_version_from_pyproject
    assert version == "3.11"
E   AssertionError: assert None == '3.11'
---------------------------- Captured stderr setup -----------------------------
11:06:42.760 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:06:47.255 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
_________________ TestUVPrefectTasks.test_list_python_versions _________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:156: in test_list_python_versions
    assert len(versions) == 4
E   TypeError: object of type 'NoneType' has no len()
---------------------------- Captured stderr setup -----------------------------
11:06:54.482 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:06:58.761 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
_______ TestUVPrefectTasks.test_ensure_python_version_already_installed ________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:181: in test_ensure_python_version_already_installed
    assert python_path == Path("/usr/local/bin/python3.11")
E   AssertionError: assert None == PosixPath('/usr/local/bin/python3.11')
E    +  where PosixPath('/usr/local/bin/python3.11') = Path('/usr/local/bin/python3.11')
---------------------------- Captured stderr setup -----------------------------
11:07:00.111 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:10.974 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
_________ TestUVPrefectTasks.test_ensure_python_version_install_needed _________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:230: in test_ensure_python_version_install_needed
    assert python_path == Path("/usr/local/bin/python3.11")
E   AssertionError: assert None == PosixPath('/usr/local/bin/python3.11')
E    +  where PosixPath('/usr/local/bin/python3.11') = Path('/usr/local/bin/python3.11')
---------------------------- Captured stderr setup -----------------------------
11:07:12.338 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:18.946 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
______________ TestUVPrefectTasks.test_create_virtual_environment ______________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:252: in test_create_virtual_environment
    assert result["created"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:07:20.316 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:25.243 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
____________ TestUVPrefectTasks.test_install_dependencies_with_lock ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:289: in test_install_dependencies_with_lock
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:07:26.576 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:31.574 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
________ TestUVPrefectTasks.test_install_dependencies_with_requirements ________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:321: in test_install_dependencies_with_requirements
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:07:33.144 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:37.847 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
__________________ TestUVPrefectTasks.test_generate_lock_file __________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:351: in test_generate_lock_file
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:07:39.207 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:48.077 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
____________________ TestUVPrefectTasks.test_add_dependency ____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:392: in test_add_dependency
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:07:49.430 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:07:56.968 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
____________________ TestUVPrefectTasks.test_build_project _____________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:421: in test_build_project
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:07:58.340 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:08:03.776 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
__________________ TestUVPrefectTasks.test_run_python_script ___________________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:444: in test_run_python_script
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:08:05.153 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:08:11.520 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
____________ TestUVPrefectTasks.test_setup_project_environment_flow ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:487: in test_setup_project_environment_flow
    assert result["success"] is True
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:08:12.826 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:08:17.235 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
___________ TestUVPrefectTasks.test_setup_project_environment_no_uv ____________
/Users/emanuelesabetta/Code/DHT/dht/tests/unit/test_uv_prefect_tasks.py:504: in test_setup_project_environment_no_uv
    assert result["success"] is False
E   TypeError: 'NoneType' object is not subscriptable
---------------------------- Captured stderr setup -----------------------------
11:08:18.821 | INFO    | prefect - Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
------------------------------ Captured log setup ------------------------------
INFO     prefect:server.py:838 Starting temporary server on http://127.0.0.1:8716
See https://docs.prefect.io/3.0/manage/self-host#self-host-a-prefect-server for more information on running a dedicated Prefect server.
--------------------------- Captured stderr teardown ---------------------------
11:08:23.021 | INFO    | prefect - Stopping temporary server on http://127.0.0.1:8716
❌ ERROR: Exiting due to interrupt
---------------------------- Captured log teardown -----------------------------
INFO     prefect:server.py:917 Stopping temporary server on http://127.0.0.1:8716
=========================== short test summary info ============================
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltUpgradeCommand::test_upgrade_single_package
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltUpgradeCommand::test_upgrade_all_packages
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltCheckCommand::test_check_command_runs_mypy
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltFormatCommands::test_format_check_mode
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltBinCommand::test_bin_when_no_venv
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltDefaultBehaviors::test_no_args_runs_install
FAILED tests/integration/test_bolt_commands_integration.py::TestBoltDefaultBehaviors::test_install_is_alias_for_setup
FAILED tests/integration/test_bolt_commands_integration.py::TestWorkspaceFilteringIntegration::test_workspaces_only_filter
FAILED tests/integration/test_bolt_commands_integration.py::TestWorkspaceFilteringIntegration::test_workspaces_ignore_filter
FAILED tests/integration/test_bolt_commands_integration.py::TestProjectCommandIntegration::test_project_run_in_root_only
FAILED tests/integration/test_bolt_commands_integration.py::TestComplexWorkspaceScenarios::test_nested_workspace_members
FAILED tests/integration/test_bolt_commands_integration.py::TestComplexWorkspaceScenarios::test_workspace_with_dependencies
FAILED tests/integration/test_bolt_core_commands.py::TestCheckCommand::test_check_with_files
FAILED tests/integration/test_bolt_core_commands.py::TestBinCommand::test_bin_error_when_no_venv
FAILED tests/integration/test_bolt_core_commands.py::TestFormatCommands::test_format_with_check_flag
FAILED tests/integration/test_dhtl_build_command.py::TestDHTLBuildCommand::test_build_basic_project
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_dockerfile_generation_web_app
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_dockerfile_generation_cli_app
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_container_build_process
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_container_run_application
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_pytest_execution_in_container
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_playwright_execution_in_container
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_deploy_command_integration
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_cleanup_on_failure
FAILED tests/integration/test_dhtl_deploy_container.py::TestDeployProjectInContainer::test_multi_stage_build
FAILED tests/integration/test_dhtl_init_command.py::TestDhtlInitCommand::test_init_with_package_structure
FAILED tests/integration/test_dhtl_init_command.py::TestDhtlInitCommand::test_init_with_github_actions
FAILED tests/integration/test_dhtl_init_command.py::TestDhtlInitCommand::test_init_from_requirements_txt
FAILED tests/integration/test_dhtl_setup_command.py::TestDhtlSetupCommand::test_setup_from_requirements_txt
FAILED tests/integration/test_dhtl_setup_command.py::TestDhtlSetupCommand::test_setup_with_install_flags
FAILED tests/integration/test_dhtl_setup_init.py::test_dhtl_setup_creates_venv_and_installs_deps
FAILED tests/integration/test_dhtl_setup_init.py::test_dhtl_init_creates_structure_and_runs_setup
FAILED tests/integration/test_dhtl_setup_init.py::test_dhtl_setup_is_idempotent
FAILED tests/integration/test_dhtl_setup_init.py::test_dhtl_setup_handles_secrets
FAILED tests/integration/test_dhtl_setup_init.py::test_dhtl_setup_respects_python_version_file
FAILED tests/integration/test_github_clone_setup.py::TestGitHubCloneSetup::test_dhtl_regenerate_after_clone
FAILED tests/integration/test_github_repos_workflow.py::TestGitHubReposWorkflow::test_all_repositories
FAILED tests/integration/test_uv_manager_integration.py::TestUVManagerIntegration::test_create_venv_and_sync
FAILED tests/integration/test_uv_manager_integration.py::TestUVManagerIntegration::test_add_and_remove_dependency
FAILED tests/integration/test_uv_manager_integration.py::TestUVManagerIntegration::test_lock_file_generation
FAILED tests/integration/test_workspace_commands_integration.py::TestWorkspaceIntegration::test_workspaces_run_integration
FAILED tests/integration/test_workspace_commands_integration.py::TestWorkspaceIntegration::test_workspace_single_member_integration
FAILED tests/integration/test_workspace_commands_integration.py::TestWorkspaceIntegration::test_project_command_integration
FAILED tests/test_bash_parser.py::test_bash_parser - Failed: Expected None, b...
FAILED tests/test_bash_parser.py::test_tree_sitter_availability - AttributeEr...
FAILED tests/test_dhtl_cli.py::test_version - AssertionError: assert 'Develop...
FAILED tests/test_dhtl_python.py::test_dhtl_unknown_command - assert 'Unknown...
FAILED tests/test_prefect_compat.py::test_task_decorator_works - assert None ...
FAILED tests/test_prefect_compat.py::test_flow_decorator_available - Assertio...
FAILED tests/test_project_generator_flow.py::TestProjectRequirementsDetection::test_detect_django_requirements
FAILED tests/test_project_generator_flow.py::TestProjectRequirementsDetection::test_detect_fastapi_requirements
FAILED tests/test_project_generator_flow.py::TestProjectRequirementsDetection::test_detect_cli_requirements
FAILED tests/test_project_generator_flow.py::TestProjectRequirementsDetection::test_detect_library_requirements
FAILED tests/test_project_generator_flow.py::TestProjectGeneratorFlow::test_generate_fastapi_project
FAILED tests/test_project_generator_flow.py::TestProjectGeneratorFlow::test_generate_django_project
FAILED tests/test_project_generator_flow.py::TestProjectGeneratorFlow::test_generate_cli_project
FAILED tests/test_project_generator_flow.py::TestProjectGeneratorFlow::test_project_with_custom_features
FAILED tests/unit/test_comprehensive_verification.py::TestComprehensiveVerification::test_no_shell_scripts_remain
FAILED tests/unit/test_comprehensive_verification.py::TestComprehensiveVerification::test_orchestrator_imports_all_required_modules
FAILED tests/unit/test_comprehensive_verification.py::TestComprehensiveVerification::test_no_large_files_violating_guidelines
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_find_project_root_with_pyproject
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_find_project_root_with_git
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_find_project_root_not_found
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_detect_virtual_environment_exists
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_detect_virtual_environment_not_exists
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_create_virtual_environment
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_install_dependencies_with_lock
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_verify_installation
FAILED tests/unit/test_dht_flows.py::TestRestoreFlow::test_restore_dependencies_flow_complete
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_check_test_resources
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_discover_tests_pytest_project
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_discover_tests_no_tests
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_prepare_test_command_pytest
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_parse_test_output_pytest_success
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_parse_test_output_pytest_failures
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_parse_test_output_unittest
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_test_command_flow_complete
FAILED tests/unit/test_dht_flows.py::TestTestFlow::test_test_command_flow_no_venv
FAILED tests/unit/test_dhtconfig.py::TestDHTConfig::test_deep_merge - assert ...
FAILED tests/unit/test_dhtl_commands.py::test_command - Failed: Expected None...
FAILED tests/unit/test_dhtl_commands.py::TestCoverageCommand::test_coverage_no_pytest
FAILED tests/unit/test_django_detection_fix.py::TestDjangoDetectionFix::test_project_heuristics_detects_django
FAILED tests/unit/test_django_detection_fix.py::TestDjangoDetectionFix::test_project_type_detector_full_flow
FAILED tests/unit/test_django_detection_fix.py::TestDjangoDetectionFix::test_django_rest_framework_detection
FAILED tests/unit/test_docker.py::TestDockerManager::test_find_docker_command
FAILED tests/unit/test_docker.py::TestDockerManager::test_check_docker_compose
FAILED tests/unit/test_docker.py::TestDockerTasks::test_docker_build_task - a...
FAILED tests/unit/test_docker.py::TestDockerTasks::test_docker_test_task - as...
FAILED tests/unit/test_docker_components.py::TestDockerManager::test_build_image_success
FAILED tests/unit/test_docker_components.py::TestDockerManager::test_build_image_failure
FAILED tests/unit/test_docker_components.py::TestDockerManager::test_run_container
FAILED tests/unit/test_docker_components.py::TestDockerfileGenerator::test_generate_basic_dockerfile
FAILED tests/unit/test_docker_components.py::TestDockerfileGenerator::test_generate_multistage_dockerfile
FAILED tests/unit/test_docker_components.py::TestContainerTestRunner::test_run_pytest
FAILED tests/unit/test_docker_components.py::TestContainerTestRunner::test_run_playwright
FAILED tests/unit/test_docker_components.py::TestContainerTestRunner::test_handle_test_failures
FAILED tests/unit/test_docker_coverage.py::TestDockerManagerCoverage::test_build_image_with_dockerfile_content
FAILED tests/unit/test_docker_coverage.py::TestDockerManagerCoverage::test_build_image_unexpected_error
FAILED tests/unit/test_docker_coverage.py::TestDockerManagerCoverage::test_run_container_image_not_found
FAILED tests/unit/test_docker_coverage.py::TestDockerManagerCoverage::test_run_container_api_error
FAILED tests/unit/test_docker_coverage.py::TestDockerManagerCoverage::test_run_container_unexpected_error
FAILED tests/unit/test_docker_coverage.py::TestDockerManagerCoverage::test_run_container_with_existing_container
FAILED tests/unit/test_docker_coverage.py::TestDockerfileGeneratorCoverage::test_generate_dockerfile_cli_type
FAILED tests/unit/test_docker_coverage.py::TestDockerfileGeneratorCoverage::test_generate_dockerfile_library_type
FAILED tests/unit/test_docker_coverage.py::TestDockerfileGeneratorCoverage::test_generate_dockerfile_with_tests_production
FAILED tests/unit/test_docker_coverage.py::TestDockerfileGeneratorCoverage::test_generate_dockerfile_with_frontend
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_all_tests_unknown_framework
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_all_tests_all_frameworks
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_pytest_with_error
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_pytest_with_coverage_disabled
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_pytest_with_specific_path
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_playwright_install_failure
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_playwright_with_error
FAILED tests/unit/test_docker_coverage.py::TestContainerTestRunnerCoverage::test_run_puppeteer_with_error
FAILED tests/unit/test_docker_final_coverage.py::TestFinalCoverage::test_run_all_tests_default_frameworks
FAILED tests/unit/test_docker_final_coverage.py::TestFinalCoverage::test_run_playwright_with_test_path
FAILED tests/unit/test_docker_final_coverage.py::TestFinalCoverage::test_run_puppeteer_with_test_path
FAILED tests/unit/test_docker_final_coverage.py::TestFinalCoverage::test_build_image_with_buildargs
FAILED tests/unit/test_docker_final_coverage.py::TestFinalCoverage::test_run_container_with_no_existing_container
FAILED tests/unit/test_docker_final_coverage.py::TestFinalCoverage::test_get_dockerfile_generates_new
FAILED tests/unit/test_environment.py::test_detect_active_venv - subprocess.C...
FAILED tests/unit/test_environment.py::test_env_command_output - subprocess.C...
FAILED tests/unit/test_environment_configurator.py::TestEnvironmentConfigurator::test_analyze_environment_requirements
FAILED tests/unit/test_environment_configurator.py::TestEnvironmentConfigurator::test_generate_environment_config
FAILED tests/unit/test_environment_configurator.py::TestEnvironmentConfigurator::test_configure_development_environment
FAILED tests/unit/test_environment_configurator.py::TestEnvironmentConfigurator::test_environment_analyzer_integration
FAILED tests/unit/test_environment_configurator.py::TestEnvironmentAnalyzer::test_analyze_environment_requirements
FAILED tests/unit/test_environment_configurator.py::TestEnvironmentInstaller::test_install_python_environment_with_uv
FAILED tests/unit/test_guardian_command.py::test_guardian_command_status - su...
FAILED tests/unit/test_guardian_command.py::test_guardian_command_start - sub...
FAILED tests/unit/test_guardian_command.py::test_guardian_command_stop - subp...
FAILED tests/unit/test_guardian_command.py::test_guardian_help - subprocess.C...
FAILED tests/unit/test_project_analyzer.py::TestProjectAnalyzer::test_analyze_simple_python_project
FAILED tests/unit/test_project_analyzer.py::TestProjectAnalyzer::test_parallel_file_analysis
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_detect_django_project
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_detect_flask_project
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_detect_fastapi_project
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_detect_data_science_project
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_detect_generic_project
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_infer_system_dependencies
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_infer_ml_dependencies
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_suggest_django_configurations
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_suggest_fastapi_configurations
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_analyze_code_quality
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_analyze_code_quality_with_configs
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_complete_analysis_flow
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_project_characteristics_detection
FAILED tests/unit/test_project_heuristics.py::TestProjectHeuristics::test_empty_project_handling
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_detect_django_project
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_detect_fastapi_project
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_detect_ml_project
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_generate_django_config
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_generate_fastapi_config
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_generate_ml_config
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_detect_hybrid_project
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_migration_detection
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_setup_recommendations
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_cli_detection
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_library_detection
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_minimal_project_handling
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_confidence_scoring
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_config_validation
FAILED tests/unit/test_project_type_detector.py::TestProjectTypeDetector::test_incremental_detection
FAILED tests/unit/test_project_type_detector.py::TestFrameworkConfig::test_django_framework_config
FAILED tests/unit/test_project_type_detector.py::TestFrameworkConfig::test_fastapi_framework_config
FAILED tests/unit/test_project_type_detector.py::TestFrameworkConfig::test_config_inheritance
FAILED tests/unit/test_python_efficiency.py::TestPythonEfficiency::test_file_sizes_modular
FAILED tests/unit/test_python_efficiency.py::TestPythonEfficiency::test_files_have_proper_headers
FAILED tests/unit/test_python_efficiency.py::TestPythonEfficiency::test_files_have_docstrings
FAILED tests/unit/test_python_efficiency.py::TestPythonEfficiency::test_code_complexity_reasonable
FAILED tests/unit/test_python_migration_completeness.py::test_prefect_integration
FAILED tests/unit/test_shell_architecture.py::TestPythonArchitecture::test_python_modules_structure
FAILED tests/unit/test_shell_architecture.py::TestModularity::test_python_modules_are_focused
FAILED tests/unit/test_shell_architecture.py::TestModularity::test_no_duplicate_implementations
FAILED tests/unit/test_subprocess_utils.py::TestSubprocessUtils::test_interrupt_signal_handling
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_run_command_failure
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_ensure_python_version_install_needed
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_ensure_python_version_install_fails
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_create_venv_default
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_create_venv_with_python_version
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_create_venv_custom_path
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_install_dependencies_with_lock
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_install_dependencies_requirements_txt
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_install_dependencies_pyproject
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_generate_lock_file
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_generate_lock_file_failure
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_add_dependency - Ty...
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_remove_dependency
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_check_outdated - as...
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_run_script_file - T...
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_run_script_module
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_setup_project_complete_flow
FAILED tests/unit/test_uv_manager.py::TestUVManager::test_setup_project_with_failures
FAILED tests/unit/test_uv_manager.py::TestUVIntegration::test_real_python_list
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_check_uv_available_success
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_check_uv_available_not_found
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_detect_python_version_from_file
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_detect_python_version_from_pyproject
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_list_python_versions
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_ensure_python_version_already_installed
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_ensure_python_version_install_needed
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_create_virtual_environment
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_install_dependencies_with_lock
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_install_dependencies_with_requirements
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_generate_lock_file
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_add_dependency
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_build_project
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_run_python_script
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_setup_project_environment_flow
FAILED tests/unit/test_uv_prefect_tasks.py::TestUVPrefectTasks::test_setup_project_environment_no_uv
===== 210 failed, 519 passed, 101 skipped, 7 warnings in 234.07s (0:03:54) =====
